<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tayvu - Digital Memorials for Your Loved Ones</title>
    <meta name="description" content="Create beautiful, lasting digital memorials to honor and remember your loved ones. Share memories, photos, and tributes in a compassionate online space.">
    <meta name="keywords" content="digital memorial, online obituary, remembrance, tribute, memorial website">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@300;400&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* CSS Variables for Theming */



/* CSS Variables for Theming */
        :root {
            /* Primary Earth Tones - More Vibrant */
            --primary-sage: #6B9174;
            --primary-moss: #4F7354;
            --primary-stone: #9B8B7E;
            --warm-sand: #E8D5B7;
            --soft-clay: #D4A29C;
            --deep-earth: #4A4238;
            

/* Purple Theme Colors - Add these after Earth Tones */
--purple-primary: #667eea;
--purple-secondary: #764ba2;
--purple-hover-primary: #5a67d8;
--purple-hover-secondary: #6b46c1;
--purple-shadow: rgba(102, 126, 234, 0.3);
--purple-shadow-hover: rgba(118, 75, 162, 0.4);




            /* Accent Colors - Richer */
            --accent-gold: #E4B755;
            --accent-copper: #CF7939;
            --accent-warm: #E8B374;
            --accent-terracotta: #C47858;
            
            /* Neutral Palette */
            --light-cream: #FAF8F3;
            --soft-linen: #F5F2ED;
            --warm-gray: #A39B8B;
            --charcoal: #3A3633;
            
            /* Text Colors */
            --text-primary: #2D2926;
            --text-secondary: #5A524A;
            --text-light: #8B8680;
            
            /* Backgrounds */
            --background: #FEFDFB;
            --background-alt: #FAF8F3;
            --border-color: #E8E2D5;
            
            /* Shadows */
            --shadow-sm: 0 1px 3px rgba(74, 66, 56, 0.1);
            --shadow-md: 0 4px 6px rgba(74, 66, 56, 0.1);
            --shadow-lg: 0 10px 15px rgba(74, 66, 56, 0.1);
            --shadow-xl: 0 20px 25px rgba(74, 66, 56, 0.1);
            
            /* Gradients - More Vibrant */
            --gradient-earth: linear-gradient(135deg, #6B9174 0%, #9B8B7E 50%, #CF7939 100%);
            --gradient-warm: linear-gradient(135deg, #E8D5B7 0%, #E4B755 50%, #CF7939 100%);
            --gradient-soft: linear-gradient(135deg, #FAF8F3 0%, #F5F2ED 100%);
            --gradient-hero-text: linear-gradient(135deg, #6B9174 0%, #E4B755 50%, #CF7939 100%);
            
            /* Additional needed variables */
            --primary-color: #6B9174;
            --primary-light: #8FA999;
            --accent-color: #E4B755;
            
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }










        /* Global Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-primary);
            background-color: var(--background);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .serif-text {
            font-family: 'Merriweather', serif;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .animate-fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }

        .animate-slide-in {
            animation: slideIn 0.6s ease-out forwards;
        }

        .animate-pulse {
            animation: pulse 2s infinite;
        }

        .animate-float {
            animation: float 3s ease-in-out infinite;
        }

        /* Navigation */
       nav {
    position: fixed;
    top: 0;
    width: 100%;
    background: rgba(254, 253, 251, 0.9);  /* Changed to earthy background */
    backdrop-filter: blur(20px);
    z-index: 1000;
    transition: all 0.3s ease;
    border-bottom: 1px solid var(--border-color);  /* Now uses earthy border */
}

     nav.scrolled {
    background: rgba(254, 253, 251, 0.98);  /* Earthy background */
    box-shadow: 0 1px 3px rgba(74, 66, 56, 0.05);  /* Earthy shadow */
}
    .nav-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0.75rem 2rem;  /* Reduced padding to keep nav height reasonable */
    display: flex;
    justify-content: space-between;
    align-items: center;
}







.logo {
    text-decoration: none;
    display: flex;
    align-items: center;
    transition: transform 0.3s ease;
}

.logo svg {
    height: 70px;  /* Increased from 60px to show tagline */
    width: auto;
}

.logo:hover {
    transform: scale(1.03);  /* Slightly reduced hover scale */
}

/* Hover effect on the tree */
.logo:hover svg circle,
.logo:hover svg path {
    filter: brightness(1.1);
}




















        .nav-links {
            display: flex;
            gap: 3rem;
            align-items: center;
            list-style: none;
        }

       .nav-links a {
    text-decoration: none;
    color: var(--text-secondary);  /* Now uses earthy text color */
    font-weight: 500;
    font-size: 1.05rem;
    transition: color 0.3s ease;
    position: relative;
}

      .nav-links a:hover {
    color: var(--primary-moss);  /* Earthy hover color */
}

      .nav-links a::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--gradient-earth);  /* Earthy gradient */
    transition: width 0.3s ease;
}

        .nav-links a:hover::after {
            width: 100%;
        }

        .auth-buttons {
            display: flex;
            gap: 1.25rem;
            align-items: center;
        }

       .btn-signin {
    padding: 0.625rem 1.5rem;
    background: rgba(124, 152, 133, 0.1);  /* Earthy sage background */
    border: none;
    color: var(--primary-sage);  /* Earthy sage color */
    border-radius: 10px;
    text-decoration: none;
    font-weight: 600;
    font-size: 1rem;
    transition: all 0.3s ease;
}

        .btn-signin:hover {
    background: rgba(124, 152, 133, 0.2);  /* Darker sage on hover */
    transform: translateY(-1px);
}

       .profile-btn {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    position: relative;
    padding: 2px;
    background: linear-gradient(135deg, var(--primary-sage)# 0%, var(--accent-copper)# 50%, var(--warm-sand) 100%);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: none;
    align-items: center;
    justify-content: center;
}

.profile-btn::before {
    content: '';
    position: absolute;
    inset: 2px;
    border-radius: 50%;
    background: white;
    z-index: 1;
}

.profile-btn-img {
    width: calc(100% - 4px);
    height: calc(100% - 4px);
    border-radius: 50%;
    object-fit: cover;
    position: relative;
    z-index: 2;
}

.profile-btn-initial {
    position: relative;
    z-index: 2;
    font-size: 18px;
    font-weight: 600;
    color: var(--primary-sage);
}

.profile-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
}

        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-primary);
        }






/* Profile-specific button overrides */
.profile-content .btn-primary {
    background: var(--gradient-earth);
    box-shadow: 0 5px 20px rgba(107, 145, 116, 0.3);
}

.profile-content .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(107, 145, 116, 0.4);
}

.profile-content .btn-secondary {
    background: white;
    color: var(--primary-sage);
    border: 2px solid var(--border-color);
}

.profile-content .btn-secondary:hover {
    background: var(--gradient-soft);
    border-color: var(--primary-sage);
}























        /* Hero Section */
       .hero {
    min-height: 100vh;
    display: flex;
    align-items: center;
    padding: 5rem 2rem 2rem;
    background: linear-gradient(135deg, #FAF8F3 0%, #FFF5E9 25%, #F5F0E8 50%, #FAF3EC 75%, #FAF8F3 100%);
    position: relative;
    overflow: hidden;
}

      .hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        radial-gradient(circle at 20% 80%, rgba(107, 145, 116, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(228, 183, 85, 0.12) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(207, 121, 57, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 70% 70%, rgba(212, 162, 156, 0.1) 0%, transparent 50%);
    animation: gentleFloat 25s ease-in-out infinite;
}

        @keyframes gentleFloat {
            0%, 100% { 
                transform: translate(0, 0) scale(1);
                opacity: 0.8;
            }
            33% { 
                transform: translate(30px, -30px) scale(1.1);
                opacity: 0.6;
            }
            66% { 
                transform: translate(-20px, 20px) scale(0.95);
                opacity: 0.7;
            }
        }

        .hero::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60%;
            background: 
                linear-gradient(180deg, transparent 0%, rgba(255,255,255,0.4) 40%, rgba(255,255,255,0.8) 70%, rgba(255,255,255,1) 100%);
            pointer-events: none;
        }

        /* Floating hearts background */
        .hero-hearts {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            opacity: 0.15;
        }

        

        .hero-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .hero-content {
            animation: slideInLeft 1s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .hero-content h1 {
            font-size: 4.5rem;
            font-weight: 700;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            letter-spacing: -0.02em;
            background: linear-gradient(135deg, #1a1a1a 0%, #4a4a4a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
        }

        .hero-content h1 span {
    background: var(--gradient-hero-text);  /* Uses new earthy gradient */
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shimmer 3s ease-in-out infinite;
}

        @keyframes shimmer {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.2); }
        }

        .hero-content p {
            font-size: 1.5rem;
            color: #64748b;
            margin-bottom: 2.5rem;
            line-height: 1.7;
            font-weight: 400;
            max-width: 600px;
        }

        .hero-buttons {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            margin-bottom: 3rem;
        }




    .btn-primary {
    padding: 1.25rem 2.5rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 1.125rem;
    font-weight: 600;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    position: relative;
    overflow: hidden;
}


.btn-primary::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.1) 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
}
  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(118, 75, 162, 0.4);
    background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
}

        .btn-primary:hover::before {
            opacity: 1;
        }

        .btn-primary span,
        .btn-primary i {
            position: relative;
            z-index: 1;
        }

    .btn-secondary {
    padding: 1.25rem 2.5rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);  /* Same purple gradient as btn-primary */
    color: white;  /* White text like btn-primary */
    border: none;  /* Remove border */
    border-radius: 12px;
    font-size: 1.125rem;
    font-weight: 600;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    cursor: pointer;
    position: relative;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);  /* Purple shadow */
    overflow: hidden;  /* For the hover effect */
}

.btn-secondary::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.1) 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
}



.btn-secondary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(118, 75, 162, 0.4);  /* Purple shadow */
    background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);  /* Darker purple on hover */
}

.btn-secondary:hover::before {
    opacity: 1;
}

        .trust-badges {
            display: flex;
            gap: 3rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .trust-badge {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: #64748b;
            font-size: 0.95rem;
        }

        .trust-badge i {
            font-size: 1.25rem;
            color: var(--warm-sand);
        }

        .trust-badge strong {
            color: #1e293b;
            font-weight: 600;
        }

        .hero-image {
            position: relative;
            animation: slideInRight 1s cubic-bezier(0.16, 1, 0.3, 1);
            z-index: 1;
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .hero-visual {
            position: relative;
            width: 100%;
            height: 600px;
            display: flex;
            align-items: center;
            justify-content: center;
               overflow: visible;  /* Add this line */
        }

        .floating-elements {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }

       


/* Floating Hearts */
.floating-heart {
    position: absolute;
    font-size: 2rem;
    opacity: 0.25;
    animation: floatHeart 18s ease-in-out infinite;
}

@keyframes floatHeart {
    0%, 100% { 
        transform: translateX(0) translateY(0) rotate(0deg) scale(1);
        opacity: 0;
    }
    10%, 90% {
        opacity: 0.25;
    }
    25% {
        transform: translateX(-30px) translateY(-20px) rotate(-15deg) scale(1.1);
    }
    50% { 
        transform: translateX(40px) translateY(-40px) rotate(15deg) scale(0.9);
    }
    75% {
        transform: translateX(-20px) translateY(-30px) rotate(-10deg) scale(1.05);
    }
}

.floating-heart-1 { 
    top: 20%;  /* Upper left of card */
    left: -15%; 
    animation-delay: 1.5s;
    font-size: 1.8rem;
}

.floating-heart-2 { 
    bottom: 30%;  /* Lower left of card */
    left: -12%; 
    animation-delay: 4s;
    font-size: 2.2rem;
}

.floating-heart-3 { 
    top: 35%;  /* Upper right of card */
    right: -15%; 
    animation-delay: 7.5s;
    font-size: 1.6rem;
}

.floating-heart-4 { 
    bottom: 25%;  /* Lower right of card */
    right: -12%; 
    animation-delay: 10s;
    font-size: 2rem;
}













        .memorial-card-preview {
            position: relative;
            width: 350px;
            background: white;
            border-radius: 20px;
           box-shadow: 0 20px 60px rgba(74, 66, 56, 0.15);  /* Earthy shadow */
            overflow: hidden;
            transform: perspective(1000px) rotateY(-15deg);
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            cursor: pointer;
            z-index: 20;
        }

       .memorial-card-preview:hover {
    transform: perspective(1000px) rotateY(-5deg) translateY(-10px);
    box-shadow: 0 30px 80px rgba(74, 66, 56, 0.2);  /* Earthy shadow */
}

        .memorial-card-header {
    height: 180px;
    background: var(--gradient-earth);  /* Earthy gradient */
    position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding-top: 20px;
        }

        .memorial-card-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
            animation: shimmerCard 3s ease-in-out infinite;
        }

        @keyframes shimmerCard {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(20px, 20px) scale(1.1); }
        }

        .memorial-card-header::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 40px;
            background: white;
            border-radius: 50% 50% 0 0 / 30% 30% 0 0;
        }

        .memorial-card-photo {
            position: relative;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 4px solid white;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 2;
            object-fit: cover;
            object-position: center center;
        }

        .memorial-card-body {
    padding: 30px 30px 20px;  /* Reduced bottom padding from 30px to 20px */
    text-align: center;
}

        .memorial-card-name {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }

        .memorial-card-dates {
            color: #64748b;
            font-size: 0.95rem;
            margin-bottom: 1rem;
        }

        .memorial-card-description {
            color: #64748b;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }

        .memorial-card-button {
    padding: 0.75rem 1.5rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);  /* Purple gradient like Create Memorial */
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
    text-decoration: none;
}

        .memorial-card-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(118, 75, 162, 0.4);  /* Purple shadow */
    background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);  /* Darker purple on hover */
}


        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-heart {
            position: absolute;
            font-size: 2.5rem;
            opacity: 0.5;
            animation: floatHeart 15s ease-in-out infinite;
        }

        .floating-heart-1 {
            top: 20%;
            left: 5%;
            font-size: 3rem;
            animation-delay: 0s;
            color: var(--warm-sand);
        }

        .floating-heart-2 {
            bottom: 30%;
            right: 10%;
            font-size: 2.2rem;
            animation-delay: 3s;
            color: #fed7aa;
        }

        .floating-heart-3 {
            top: 60%;
            left: 8%;
            font-size: 2.8rem;
            animation-delay: 6s;
            color: var(--primary-stone);
        }

        .floating-heart-4 {
            top: 40%;
            right: 5%;
            font-size: 2rem;
            animation-delay: 9s;
            color: var(--warm-sand);
        }

        .floating-heart-5 {
            bottom: 20%;
            left: 15%;
            font-size: 2.5rem;
            animation-delay: 12s;
            color: #fed7aa;
        }

        .floating-heart-6 {
            top: 10%;
            right: 15%;
            font-size: 2.3rem;
            animation-delay: 15s;
            color: var(--primary-stone);
        }

    @keyframes floatHeart {
    0%, 100% { 
        transform: translateX(0) translateY(0) rotate(0deg) scale(1);
        opacity: 0;
    }
    10%, 90% {
        opacity: 0.25;
    }
    25% {
        transform: translateX(20px) translateY(-15px) rotate(-10deg) scale(1.1);
    }
    50% { 
        transform: translateX(-20px) translateY(-30px) rotate(10deg) scale(0.9);
    }
    75% {
        transform: translateX(15px) translateY(-20px) rotate(-5deg) scale(1.05);
    }
}



        /* Features Section */
        .features {
            padding: 8rem 2rem;
            background: #fafafa;
            position: relative;
            overflow: hidden;
        }

        .features::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent 0%, #e2e8f0 50%, transparent 100%);
        }

        .features-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 5rem;
            animation: fadeInUp 0.8s ease;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-header h2 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            letter-spacing: -0.02em;
            background: linear-gradient(135deg, #1a1a1a 0%, #4a4a4a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .section-header p {
            font-size: 1.375rem;
            color: #64748b;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.7;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 2rem;
        }

      .feature-card {
    background: white;
    padding: 3rem;
    border-radius: 20px;
    box-shadow: 0 1px 3px rgba(74, 66, 56, 0.05);  /* Earthy shadow */
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    text-align: left;
    position: relative;
    overflow: hidden;
    border: 1px solid var(--border-color);  /* Earthy border */
}

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(107, 145, 116, 0.05) 0%, rgba(207, 121, 57, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

       .feature-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(74, 66, 56, 0.1);  /* Earthy shadow */
    border-color: rgba(124, 152, 133, 0.3);  /* Sage border on hover */
}

        .feature-card:hover::before {
            opacity: 1;
        }

        .feature-icon {
    width: 60px;
    height: 60px;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(107, 145, 116, 0.1) 0%, rgba(228, 183, 85, 0.1) 100%);  /* Sage to gold */
    border-radius: 16px;
    font-size: 1.75rem;
    color: var(--primary-sage);  /* Sage color */
    transition: all 0.3s ease;
}

       .feature-card:hover .feature-icon {
    transform: scale(1.1) rotate(5deg);
    background: linear-gradient(135deg, rgba(107, 145, 116, 0.2) 0%, rgba(228, 183, 85, 0.2) 100%);  /* Darker sage to gold */
    color: var(--accent-copper);  /* Copper on hover */
}

        .feature-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #1e293b;
            font-weight: 600;
        }

        .feature-card p {
            color: #64748b;
            line-height: 1.8;
            font-size: 1.05rem;
        }

        /* How It Works Section */
        .how-it-works {
            padding: 8rem 2rem;
            background: linear-gradient(135deg, #FEFDFB 0%, #FAF8F3 50%, #F5F2ED 100%);
            position: relative;
            overflow: hidden;
        }

        .how-it-works::before {
            content: '';
            position: absolute;
            top: -100px;
            right: -100px;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(107, 145, 116, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 20s ease-in-out infinite;
        }

        .how-it-works-container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .how-it-works-header {
            text-align: center;
            margin-bottom: 6rem;
        }

        .how-it-works-header h2 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            letter-spacing: -0.02em;
            background: linear-gradient(135deg, #1a1a1a 0%, #4a4a4a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .how-it-works-header p {
            font-size: 1.375rem;
            color: #64748b;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.7;
        }

        .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 4rem;
            margin-bottom: 6rem;
        }

        .step-card {
            background: white;
            padding: 3rem 2.5rem;
            border-radius: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
           border: 1px solid rgba(212, 196, 176, 0.3);
        }

        .step-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(107, 145, 116, 0.05) 0%, rgba(207, 121, 57, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .step-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 60px rgba(107, 145, 116, 0.15);
            border-color: rgba(107, 145, 116, 0.3);
        }

        .step-card:hover::before {
            opacity: 1;
        }

        .step-number {
            width: 80px;
            height: 80px;
            margin: 0 auto 2rem;
            background: var(--gradient-earth);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 700;
            color: white;
            position: relative;
            z-index: 2;
            box-shadow: 0 10px 30px rgba(107, 145, 116, 0.3);
        }

        .step-icon {
            width: 120px;
            height: 120px;
            margin: 0 auto 2rem;
            background: linear-gradient(135deg, rgba(107, 145, 116, 0.1) 0%, rgba(207, 121, 57, 0.1) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--primary-sage);
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
        }

        .step-card:hover .step-icon {
            transform: scale(1.1) rotate(5deg);
            background: linear-gradient(135deg, rgba(107, 145, 116, 0.2) 0%, rgba(207, 121, 57, 0.2) 100%);
        }

        .step-title {
            font-size: 1.75rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #1e293b;
            position: relative;
            z-index: 2;
        }

        .step-description {
            font-size: 1.125rem;
            color: #64748b;
            line-height: 1.8;
            margin-bottom: 2rem;
            position: relative;
            z-index: 2;
        }

        .step-visual {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-radius: 15px;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(107, 145, 116, 0.1);
        }

        .step-visual::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 49%, rgba(107, 145, 116, 0.1) 50%, transparent 51%);
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
        }

        .visual-mockup {
            position: relative;
            z-index: 2;
        }

        .mockup-browser {
            width: 280px;
            height: 160px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .mockup-browser::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 30px;
            background: #f1f5f9;
            border-bottom: 1px solid #e2e8f0;
        }

        .mockup-browser::after {
            content: '● ● ●';
            position: absolute;
            top: 8px;
            left: 12px;
            font-size: 12px;
            color: #94a3b8;
            letter-spacing: 4px;
        }

        .mockup-content {
            padding: 40px 20px 20px;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .mockup-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--warm-sand) 0%, var(--accent-gold) 100%);
            margin-bottom: 8px;
        }

        .mockup-text {
            width: 80%;
            height: 4px;
            background: #e2e8f0;
            border-radius: 2px;
            margin-bottom: 4px;
        }

        .mockup-text.short {
            width: 60%;
        }

        .mockup-form {
            width: 240px;
            height: 140px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .mockup-input {
            height: 20px;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
        }

        .mockup-button {
            height: 24px;
            background: linear-gradient(135deg, var(--primary-sage) 0%, var(--accent-copper) 100%);
            border-radius: 6px;
            margin-top: 8px;
        }

        .mockup-upload {
            width: 220px;
            height: 140px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 2px dashed var(--primary-stone);
        }

        .mockup-upload-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-stone) 0%, var(--warm-sand) 100%);
            border-radius: 50%;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
        }

        .cta-section {
            text-align: center;
            padding: 4rem 2rem;
            background: white;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(107, 145, 116, 0.1);
            position: relative;
            overflow: hidden;
        }

        .cta-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(232, 213, 183, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        .cta-content {
            position: relative;
            z-index: 2;
        }

        .cta-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--primary-sage) 0%, var(--accent-copper) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .cta-description {
            font-size: 1.25rem;
            color: #64748b;
            margin-bottom: 2.5rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.7;
        }

        .cta-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

     
       

        /* Footer */
        footer {
         background: var(--charcoal);
            color: white;
            padding: 3rem 2rem 1rem;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h4 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            color: var(--primary-light);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.5rem;
        }

        .footer-section a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-section a:hover {
            color: var(--primary-light);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-links a {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transition: var(--transition);
        }

        .social-links a:hover {
            background: var(--primary-color);
            transform: translateY(-3px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
        }

        /* Page Sections */
        .page-section {
            padding: 5rem 2rem;
            min-height: calc(100vh - 80px);
            display: none;
        }

        .page-section.active {
            display: block;
        }

        .page-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* About Page */
        
.about-hero {
    position: relative;
    min-height: 400px;
    background: linear-gradient(135deg, #FAF8F3 0%, #F5F2ED 25%, #E8D5B7 50%, #F5F2ED 75%, #FAF8F3 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    margin-top: -80px;
    padding-top: 120px;
}

.about-hero-background {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

.floating-heart-bg {
    position: absolute;
    font-size: 3rem;
    opacity: 0.1;
    animation: floatHeart 20s ease-in-out infinite;
    color: var(--accent-copper);  /* Change to copper/orange color */
}

.heart-1 { top: 20%; left: 10%; animation-delay: 0s; }
.heart-2 { top: 60%; right: 15%; animation-delay: 5s; }
.heart-3 { bottom: 20%; left: 20%; animation-delay: 10s; }
.heart-4 { top: 40%; right: 10%; animation-delay: 15s; }

.about-hero-content {
    position: relative;
    z-index: 2;
    text-align: center;
    padding: 0 2rem;
}

.about-hero-title {
    font-size: 4rem;
    font-weight: 700;
    background: linear-gradient(135deg, var(--warm-sand) 0%, var(--accent-gold) 50%, var(--primary-stone) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 1rem;
    font-family: 'Merriweather', serif;
}

.about-hero-subtitle {
    font-size: 1.5rem;
    color: #64748b;
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.6;
    font-weight: 300;
}

/* Story Section */
.about-story-section {
    padding: 5rem 0;
    background: white;
}

.story-card {
    max-width: 900px;
    margin: 0 auto;
    background: linear-gradient(135deg, #FAF8F3 0%, #F5F2ED 100%);
    border-radius: 30px;
    padding: 4rem;
    box-shadow: 0 20px 60px rgba(74, 66, 56, 0.15);
    position: relative;
    overflow: hidden;
}

.story-card::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, rgba(107, 145, 116, 0.1) 0%, transparent 70%);
    animation: rotate 25s linear infinite;
}










.story-title {
    font-size: 2.5rem;
    text-align: center;
    color: #1e293b;
    margin-bottom: 2rem;
    font-family: 'Merriweather', serif;
    position: relative;
    z-index: 2;
}

.story-content {
    position: relative;
    z-index: 2;
}

.story-text {
    font-size: 1.25rem;
    line-height: 1.9;
    color: #475569;
    margin-bottom: 1.5rem;
    text-align: center;
    font-family: 'Merriweather', serif;
}

.highlight-text {
    background: linear-gradient(135deg, var(--warm-sand) 0%, var(--accent-gold) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 600;
}

.story-divider {
    text-align: center;
    margin: 2rem 0;
    color: var(--warm-sand);
    font-size: 1.5rem;
}

.story-text.emphasis {
    font-size: 1.4rem;
    font-style: italic;
    color: #64748b;
}

/* Values Section */
.about-values-section {
    padding: 5rem 0;
    background: #fafafa;
}

.values-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    max-width: 1000px;
    margin: 0 auto;
}

.value-card {
    background: white;
    padding: 3rem 2rem;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.value-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 5px;
    background: linear-gradient(90deg, var(--warm-sand) 0%, var(--accent-gold) 50%, var(--primary-stone) 100%);
}

.value-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 40px rgba(74, 66, 56, 0.2);
}

.value-icon-wrapper {
    width: 100px;
    height: 100px;
    background: linear-gradient(135deg, rgba(232, 213, 183, 0.1) 0%, rgba(251, 191, 36, 0.1) 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 2rem;
    font-size: 2.5rem;
    color: var(--warm-sand);
    transition: all 0.3s ease;
}

.value-card:hover .value-icon-wrapper {
    transform: scale(1.1) rotate(5deg);
    background: linear-gradient(135deg, rgba(232, 213, 183, 0.2) 0%, rgba(251, 191, 36, 0.2) 100%);
}

.value-card h3 {
    font-size: 1.5rem;
    color: #1e293b;
    margin-bottom: 1rem;
    font-weight: 600;
}

.value-card p {
    color: #64748b;
    line-height: 1.6;
}

/* Promise Section */
.about-promise-section {
    padding: 5rem 0;
    background: white;
}

.promise-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
}

.promise-title {
    font-size: 2.5rem;
    color: #1e293b;
    margin-bottom: 2rem;
    font-family: 'Merriweather', serif;
}

.promise-text {
    font-size: 1.125rem;
    line-height: 1.8;
    color: #64748b;
    margin-bottom: 1.5rem;
}

.promise-features {
    display: grid;
    gap: 1rem;
    margin-top: 2rem;
}

.promise-feature {
    display: flex;
    align-items: center;
    gap: 1rem;
    font-size: 1.05rem;
    color: #475569;
}

.promise-feature i {
    font-size: 1.25rem;
    color: #10b981;
}

.promise-image img {
    width: 100%;
    border-radius: 20px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.15);
}

/* CTA Section */
.about-cta-section {
    padding: 5rem 0 8rem;
    background: linear-gradient(135deg, #FAF8F3 0%, #F5F2ED 100%);
}

.about-cta-container {
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
    padding: 4rem;
    background: white;
    border-radius: 30px;
    box-shadow: 0 20px 60px rgba(107, 145, 116, 0.1);
}

.about-cta-container h2 {
    font-size: 2.5rem;
    background: linear-gradient(135deg, var(--primary-sage) 0%, var(--accent-copper) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 1rem;
    font-family: 'Merriweather', serif;
}

.about-cta-container p {
    font-size: 1.25rem;
    color: #64748b;
    margin-bottom: 2rem;
}

.about-cta-buttons {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    flex-wrap: wrap;
}

/* Responsive Design */
@media (max-width: 768px) {
    .about-hero-title {
        font-size: 2.5rem;
    }
    
    .about-hero-subtitle {
        font-size: 1.25rem;
    }
    
    .story-card {
        padding: 2rem;
    }
    
    .story-text {
        font-size: 1.1rem;
    }
    
    .promise-container {
        grid-template-columns: 1fr;
    }
    
    .promise-image {
        order: -1;
    }
    
    .about-cta-buttons {
        flex-direction: column;
        width: 100%;
    }
    
    .about-cta-buttons button {
        width: 100%;
        justify-content: center;
    }
}

























        /* Pricing Page */

/* Pricing Page */
#pricing {
    padding-top: 120px;  /* Add extra top padding to account for fixed nav */
}

#pricing .section-header {
    margin-top: 0;  /* Remove any additional top margin */
    padding-top: 0;  /* Remove any additional top padding */
}








        .pricing-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .pricing-card {
            background: white;
            border-radius: 20px;
            padding: 3rem 2rem;
            box-shadow: var(--shadow-lg);
            position: relative;
            transition: var(--transition);
            text-align: center;
        }

        .pricing-card.featured {
            transform: scale(1.05);
            background: var(--gradient-earth);
            color: white;
        }

        .pricing-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
        }

        .pricing-card.featured:hover {
            transform: scale(1.05) translateY(-5px);
        }

        .pricing-badge {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent-color);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .pricing-title {
            font-size: 1.75rem;
            margin-bottom: 1rem;
        }

        .pricing-price {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .pricing-price span {
            font-size: 1.25rem;
            font-weight: 400;
        }

        .pricing-description {
            font-size: 1rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .pricing-features {
            list-style: none;
            margin-bottom: 2rem;
        }

        .pricing-features li {
            padding: 0.75rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            justify-content: center;
        }

        .pricing-features i {
            color: var(--primary-color);
        }

        .pricing-card.featured .pricing-features i {
            color: white;
        }

        .pricing-cta {
            width: 100%;
            padding: 1rem;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: var(--transition);
        }

        .pricing-card:not(.featured) .pricing-cta {
            background: var(--primary-color);
            color: white;
        }

        .pricing-card.featured .pricing-cta {
            background: white;
            color: var(--primary-color);
        }

        .pricing-cta:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* FAQ Page Styles */
        .faq-container {
            max-width: 900px;
            margin: 3rem auto;
        }

        .faq-category {
            margin-bottom: 3rem;
            animation: fadeInUp 0.8s ease;
        }

        .faq-category-title {
            font-size: 1.75rem;
            color: var(--text-primary);
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f0f0f5;
            display: flex;
            align-items: center;
            gap: 1rem;
            font-weight: 600;
        }

        .faq-category-title i {
            font-size: 1.5rem;
            background: linear-gradient(135deg, var(--primary-sage) 0%, var(--accent-copper) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .faq-item {
            background: white;
            border-radius: 15px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border: 1px solid #f0f0f5;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .faq-item:hover {
            box-shadow: 0 5px 20px rgba(107, 145, 116, 0.1);
            border-color: rgba(107, 145, 116, 0.2);
        }

        .faq-question {
            width: 100%;
            padding: 1.5rem 2rem;
            background: none;
            border: none;
            text-align: left;
            font-size: 1.125rem;
            font-weight: 500;
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .faq-question:hover {
            color: var(--primary-sage);
        }

        .faq-question i {
            font-size: 1rem;
            transition: transform 0.3s ease;
            color: var(--primary-sage);
        }

        .faq-item.active .faq-question i {
            transform: rotate(180deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
            padding: 0 2rem;
        }

        .faq-item.active .faq-answer {
            max-height: 800px;
            padding: 0 2rem 2rem;
        }

        .faq-answer p {
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 1rem;
        }

        .faq-answer p:last-child {
            margin-bottom: 0;
        }

        .faq-answer ul,
        .faq-answer ol {
            margin: 1rem 0;
            padding-left: 1.5rem;
            color: var(--text-secondary);
        }

        .faq-answer li {
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }

        .faq-answer strong {
            color: var(--text-primary);
            font-weight: 600;
        }

        .faq-cta {
            text-align: center;
            padding: 4rem 2rem;
            background: linear-gradient(135deg, #ffeef8 0%, #fff5eb 50%, #f0f4ff 100%);
            border-radius: 20px;
            margin-top: 4rem;
            animation: fadeInUp 0.8s ease;
        }

        .faq-cta h3 {
            font-size: 2rem;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .faq-cta p {
            font-size: 1.125rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .faq-cta-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        @media (max-width: 768px) {
            .faq-category-title {
                font-size: 1.5rem;
            }

            .faq-question {
                font-size: 1rem;
                padding: 1.25rem 1.5rem;
            }

            .faq-answer {
                padding: 0 1.5rem;
            }

            .faq-item.active .faq-answer {
                padding: 0 1.5rem 1.5rem;
            }

            .faq-cta-buttons {
                flex-direction: column;
                width: 100%;
            }

            .faq-cta-buttons a {
                width: 100%;
                justify-content: center;
            }
        }

      
/* Profile Page Styles */

.profile-page-container {
    min-height: 100vh;
    background: linear-gradient(135deg, #FEFDFB 0%, #FAF8F3 25%, #F5F2ED 50%, #FAF8F3 75%, #FEFDFB 100%);
    position: relative;
    overflow: hidden;
    padding-top: 80px; /* Add padding for fixed nav */
}

/* Add the missing background decoration */
.profile-page-container::before {
    content: '';
    position: absolute;
    top: -200px;
    right: -200px;
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(107, 145, 116, 0.1) 0%, transparent 70%);
    border-radius: 50%;
    animation: float 20s ease-in-out infinite;
}


/* Fix the profile header section */
.profile-header-section {
    background: white;
    border-radius: 0 0 50px 50px;
    box-shadow: 0 10px 30px rgba(74, 66, 56, 0.1);
    margin-bottom: 3rem;
    position: relative;
    overflow: hidden;
    margin-top: -80px; /* Offset the padding */
    padding-top: 80px; /* Add back for content */
}













.profile-cover-photo {
    height: 180px;
    background: var(--gradient-earth);
    opacity: 0.9;
}

.profile-cover-photo::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
    animation: rotate 30s linear infinite;
}

.profile-header-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
    display: flex;
    align-items: flex-end;
    gap: 3rem;
    margin-top: -80px;
    position: relative;
    z-index: 2;
}

.profile-photo-container {
    position: relative;
    flex-shrink: 0;
}

.profile-photo-large {
    width: 180px;
    height: 180px;
    border-radius: 50%;
    border: 8px solid white;
    box-shadow: 0 15px 40px rgba(74, 66, 56, 0.2);
    object-fit: cover;
    background: white;
}

.profile-photo-edit {
    position: absolute;
    bottom: 15px;
    right: 15px;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: var(--gradient-warm);
    color: white;
    border: 4px solid white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 5px 15px rgba(228, 183, 85, 0.4);
    transition: all 0.3s ease;
    font-size: 1.2rem;
}

.profile-photo-edit:hover {
    transform: scale(1.1);
    box-shadow: 0 8px 25px rgba(228, 183, 85, 0.6);
}

.profile-info {
    flex: 1;
    padding-bottom: 2rem;
}


.profile-name {
    font-size: 3rem;
    font-weight: 300;
    margin-bottom: 0.5rem;
    font-family: 'Merriweather', serif;
    color: var(--text-primary);
}

.profile-email {
    font-size: 1.125rem;
    color: var(--text-secondary);
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.profile-email i {
    color: var(--primary-sage);
}






.profile-stats {
    display: flex;
    gap: 2rem;
    flex-wrap: wrap;
}

.profile-stat {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(10px);
    padding: 1.5rem 2.5rem;
    border-radius: 20px;
    box-shadow: 0 5px 20px rgba(74, 66, 56, 0.1);
    text-align: center;
    min-width: 150px;
    transition: all 0.3s ease;
    border: 1px solid rgba(232, 213, 183, 0.3);
}

.profile-stat:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(107, 145, 116, 0.15);
    border-color: rgba(107, 145, 116, 0.3);
}

.stat-value {
    display: block;
    font-size: 2.5rem;
    font-weight: 700;
    background: var(--gradient-earth);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    line-height: 1;
    margin-bottom: 0.5rem;
}

.stat-label {
    font-size: 0.875rem;
    color: var(--text-secondary);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 1px;
}










/* Profile Content */
.profile-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem 4rem;
}





.profile-tabs {
    background: white;
    border-radius: 25px;
    padding: 0.5rem;
    display: flex;
    gap: 0.5rem;
    margin-bottom: 3rem;
    box-shadow: 0 5px 20px rgba(74, 66, 56, 0.1);
}

.profile-tab {
    flex: 1;
    padding: 1.25rem 2rem;
    background: none;
    border: none;
    border-radius: 20px;
    font-size: 1.05rem;
    font-weight: 500;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
}

.profile-tab:hover {
    background: var(--gradient-soft);
    color: var(--text-primary);
}

.profile-tab.active {
    background: var(--gradient-earth);
    color: white;
    box-shadow: 0 5px 15px rgba(107, 145, 116, 0.3);
}

.profile-tab.active::after {
    display: none; /* Remove the old underline */
}

.profile-tab i {
    font-size: 1.2rem;
}











.profile-tab-content {
    display: none;
    animation: fadeIn 0.5s ease;
}

.profile-tab-content.active {
    display: block;
}

.tab-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
}

.tab-header h2 {
    font-size: 1.75rem;
    color: #1e293b;
}


.section-title {
    font-size: 2.5rem;
    font-weight: 300;
    font-family: 'Merriweather', serif;
    color: var(--text-primary);
}








/* Memorials Grid */
.memorials-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 2rem;
}


.memorial-card {
    background: white;
    border-radius: 25px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(74, 66, 56, 0.1);
    transition: all 0.4s ease;
    cursor: pointer;
    border: 1px solid var(--border-color);
    position: relative;
}

.memorial-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 5px;
    background: var(--gradient-earth);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.memorial-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 50px rgba(107, 145, 116, 0.2);
    border-color: rgba(107, 145, 116, 0.3);
}

.memorial-card:hover::before {
    opacity: 1;
}

.memorial-card-image {
    height: 220px;
    position: relative;
    overflow: hidden;
    background: transparent;
}

.memorial-card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s ease;
}

.memorial-card:hover .memorial-card-image img {
    transform: scale(1.1);
}

.memorial-card-content {
    padding: 2rem;
}

.memorial-card-name {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
    font-family: 'Merriweather', serif;
}

.memorial-card-dates {
    color: var(--text-secondary);
    margin-bottom: 1.5rem;
    font-size: 1rem;
}

.memorial-card-stats {
    display: flex;
    gap: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border-color);
}

.memorial-card-stat {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.memorial-card-stat i {
    font-size: 1.125rem;
    color: var(--accent-gold);
}

.memorial-card-stat span {
    color: var(--text-secondary);
    font-size: 0.875rem;
    font-weight: 500;
}

























/* Contributions List */
.contributions-list {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.contribution-item {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.08);
    display: flex;
    gap: 1.5rem;
    transition: all 0.3s ease;
}

.contribution-item:hover {
    transform: translateX(5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.12);
}

.contribution-memorial-photo {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    flex-shrink: 0;
}

.contribution-content {
    flex: 1;
}

.contribution-memorial-name {
    font-size: 1.125rem;
    font-weight: 600;
    color: #1e293b;
    margin-bottom: 0.5rem;
}

.contribution-type {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: linear-gradient(135deg, rgba(232, 213, 183, 0.1) 0%, rgba(251, 191, 36, 0.1) 100%);
    padding: 0.375rem 0.875rem;
    border-radius: 20px;
    font-size: 0.875rem;
    color: var(--accent-copper);
    margin-bottom: 0.75rem;
}

.contribution-message {
    color: #64748b;
    line-height: 1.6;
}

.contribution-date {
    font-size: 0.875rem;
    color: #94a3b8;
    margin-top: 0.75rem;
}

/* Settings */
.settings-container {
    max-width: 700px;
}




.settings-section {
    background: white;
    padding: 3rem;
    border-radius: 30px;
    box-shadow: 0 10px 30px rgba(74, 66, 56, 0.08);
    margin-bottom: 2rem;
    border: 1px solid var(--border-color);
}

.settings-section h3 {
    font-size: 1.75rem;
    color: var(--text-primary);
    margin-bottom: 2rem;
    font-family: 'Merriweather', serif;
}

.settings-section .form-group input {
    padding: 1rem 1.25rem;
    border: 2px solid var(--border-color);
    border-radius: 15px;
    font-size: 1rem;
    transition: all 0.3s ease;
    background: var(--background-alt);
}

.settings-section .form-group input:focus {
    outline: none;
    border-color: var(--primary-sage);
    background: white;
}


/* Date validation error styling */
.form-group small {
    display: block;
    margin-top: 0.25rem;
    font-size: 0.875rem;
    line-height: 1.2;
}

#birthDateError,
#deathDateError {
    color: #E53E3E;
    font-weight: 500;
    margin-top: 0.5rem;
}

.form-group input[type="date"]:focus:invalid {
    border-color: #E53E3E;
    box-shadow: 0 0 0 3px rgba(229, 62, 62, 0.1);
}




.form-group input:invalid {
    border-color: #E53E3E;
}

.form-group input:invalid:focus {
    border-color: #E53E3E;
    box-shadow: 0 0 0 3px rgba(229, 62, 62, 0.1);
}







.danger-zone {
    border: 2px solid #fee2e2;
    background: #fef2f2;
}

.danger-zone h3 {
    color: #dc2626;
}

.danger-zone p {
    color: #7f1d1d;
    margin-bottom: 1.5rem;
}

.btn-danger {
    background: #dc2626;
    color: white;
    padding: 0.875rem 1.75rem;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
}

.btn-danger:hover {
    background: #b91c1c;
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(220, 38, 38, 0.3);
}










/* Empty States */
.empty-state {
    text-align: center;
    padding: 6rem 2rem;
    background: white;
    border-radius: 30px;
    box-shadow: 0 10px 30px rgba(74, 66, 56, 0.08);
    border: 2px dashed var(--border-color);
}

.empty-state i {
    width: 120px;
    height: 120px;
    background: var(--gradient-soft);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 2rem;
    font-size: 3rem;
    color: var(--primary-sage);
}

.empty-state h3 {
    font-size: 1.75rem;
    color: var(--text-primary);
    margin-bottom: 0.75rem;
    font-family: 'Merriweather', serif;
}

.empty-state p {
    color: var(--text-secondary);
    margin-bottom: 2rem;
    font-size: 1.125rem;
}

.empty-state-icon {
    width: 120px;
    height: 120px;
    background: var(--gradient-soft);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 2rem;
    font-size: 3rem;
    color: var(--primary-sage);
}



/* Create Memorial Page Styles */
.create-memorial-page {
    background: #f8f9fa;
    padding: 0;
    min-height: 100vh;
    padding-top: 80px; /* Account for fixed nav */
}

.create-memorial-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 2rem;
}

.create-memorial-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem; /* Reduced from 3rem */
    padding: 1.5rem; /* Reduced from 2rem */
    background: white;
    border-radius: 20px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

.create-memorial-header h1 {
    font-size: 2rem;
    color: #1e293b;
    margin: 0;
}

.back-button {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: none;
    border: 2px solid #e2e8f0;
    border-radius: 10px;
    color: #64748b;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
}

.back-button:hover {
    border-color: var(--primary-sage);
    color: var(--primary-sage);
}

.save-draft-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: linear-gradient(135deg, var(--primary-sage) 0%, #7c3aed 100%);
    border: none;
    border-radius: 10px;
    color: white;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
}

.save-draft-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(107, 145, 116, 0.3);
}



.create-memorial-page.compact-layout .create-memorial-header {
    margin-bottom: 1rem;
}

.create-memorial-page.compact-layout .progress-container {
    margin-bottom: 0.5rem;
}

.create-memorial-page.compact-layout .create-memorial-form {
    padding-top: 1.5rem;
}


















/* Progress Bar */
.progress-container {
    margin-bottom: 1rem; /* Reduced from 3rem */
}

.progress-bar {
    height: 4px;
    background: #e2e8f0;
    border-radius: 4px;
    margin-bottom: 2rem;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-sage) 0%, var(--accent-copper) 100%);
    border-radius: 4px;
    width: 16.66%;
    transition: width 0.5s ease;
}

.progress-steps {
    display: flex;
    justify-content: space-between;
}

.progress-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    opacity: 0.5;
    transition: opacity 0.3s ease;
}

.progress-step.active {
    opacity: 1;
}

.progress-step.completed {
    opacity: 1;
}

.step-circle {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #e2e8f0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    color: #64748b;
    transition: all 0.3s ease;
}

.progress-step.active .step-circle {
    background: linear-gradient(135deg, var(--primary-sage) 0%, var(--accent-copper) 100%);
    color: white;
}

.progress-step.completed .step-circle {
    background: #10b981;
    color: white;
}

.progress-step span {
    font-size: 0.875rem;
    color: #64748b;
    font-weight: 500;
}

/* Form Styles */
.create-memorial-form {
    background: white;
    border-radius: 20px;
    padding: 3rem;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
}


.create-memorial-form {
    background: white;
    border-radius: 20px;
    padding: 3rem;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
}









/* Remove top padding when not on first step */
.form-step:not(#step1) {
    padding-top: 0;
}

/* Adjust step title spacing */
.step-title {
    font-size: 2rem;
    color: #1e293b;
    margin-bottom: 0.5rem;
    margin-top: 0;
}

/* Ensure form sections have proper spacing */
.form-step .form-section:first-child {
    margin-top: 0;
    padding-top: 0;
}


/* Ensure obituary content starts immediately in white box */
#step2 .form-group:first-child {
    margin-top: 1.5rem;
}




#step2 .step-title {
    margin-top: 0;
    margin-bottom: 0.5rem;
}

#step2 .step-subtitle {
    margin-bottom: 2rem;
}

#step2 .form-actions {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid #e2e8f0;
}








.form-step {
    display: none !important;
}


/* When not on first step, reduce spacing */
.create-memorial-page:has(.form-step:not(#step1).active) .create-memorial-header {
    margin-bottom: 1rem;
}

.create-memorial-page:has(.form-step:not(#step1).active) .progress-container {
    margin-bottom: 0.5rem;
}





.form-step {
    display: none !important;
}

.form-step.active {
    display: block !important;
    animation: fadeIn 0.5s ease;
}


/* Ensure non-active steps are completely hidden and don't affect layout */
.form-step:not(.active) {
    display: none !important;
    position: absolute !important;
    visibility: hidden !important;
    opacity: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
}




.step-title {
    font-size: 2rem;
    color: #1e293b;
    margin-bottom: 0.5rem;
}

.step-subtitle {
    font-size: 1.125rem;
    color: #64748b;
    margin-bottom: 3rem;
}

.form-section {
    margin-bottom: 3rem;
    padding-bottom: 3rem;
    border-bottom: 1px solid #e2e8f0;
}

.form-section:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
}


.form-section:only-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
}


.form-section h3 {
    font-size: 1.5rem;
    color: #1e293b;
    margin-bottom: 1.5rem;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
}

.form-group {
    display: flex;
    flex-direction: column;
}

.form-group.full-width {
    grid-column: 1 / -1;
}

.form-group label {
    font-weight: 500;
    color: #1e293b;
    margin-bottom: 0.5rem;
}

.form-group input,
.form-group textarea,
.form-group select {
    padding: 0.875rem;
    border: 2px solid #e2e8f0;
    border-radius: 10px;
    font-size: 1rem;
    transition: all 0.3s ease;
    background: #fafafa;
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
    outline: none;
    border-color: var(--primary-sage);
    background: white;
}

.form-group small {
    margin-top: 0.5rem;
    color: #94a3b8;
    font-size: 0.875rem;
}






/* Image Upload */
.image-upload-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
}

.image-upload-box label {
    display: block;
    font-weight: 500;
    color: #1e293b;
    margin-bottom: 0.5rem;
}

.upload-area {
    border: 3px dashed #e2e8f0;
    border-radius: 15px;
    padding: 3rem;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    background: #fafafa;
     min-height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.upload-area:hover {
    border-color: var(--primary-sage);
    background: #f5f3ff;
}

.upload-area img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: absolute;
    top: 0;
    left: 0;
    border-radius: 12px;
}



.upload-placeholder {
    position: relative;
    z-index: 1;
}




.upload-placeholder i {
    font-size: 3rem;
    color: #cbd5e1;
    margin-bottom: 1rem;
}

.upload-placeholder p {
    font-weight: 500;
    color: #64748b;
    margin-bottom: 0.5rem;
}

.upload-placeholder small {
    color: #94a3b8;
}



/* Default Background Selection Styles */
.default-backgrounds-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.75rem;
    margin-top: 1rem;
}

.default-bg-option {
    cursor: pointer;
    border-radius: 8px;
    overflow: hidden;
    border: 2px solid transparent;
    transition: all 0.3s ease;
    background: #f8f9fa;
}

.default-bg-option:hover {
    border-color: var(--primary-sage);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(107, 145, 116, 0.2);
}

.default-bg-option.selected {
    border-color: var(--accent-copper);
    box-shadow: 0 0 0 3px rgba(207, 121, 57, 0.2);
}

.default-bg-option img {
    width: 100%;
    height: 60px;
    object-fit: cover;
    display: block;
}

.default-bg-option span {
    display: block;
    padding: 0.5rem;
    text-align: center;
    font-size: 0.75rem;
    color: var(--text-secondary);
    font-weight: 500;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .default-backgrounds-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}







































/* Rich Text Editor */
.rich-text-toolbar {
    display: flex;
    gap: 0.5rem;
    padding: 0.75rem;
    background: #f8f9fa;
    border: 2px solid #e2e8f0;
    border-bottom: none;
    border-radius: 10px 10px 0 0;
}

.rich-text-toolbar button {
    padding: 0.5rem 0.75rem;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.rich-text-toolbar button:hover {
    background: #f1f5f9;
    border-color: #cbd5e1;
}

.rich-text-editor {
    min-height: 300px;
    padding: 1rem;
    border: 2px solid #e2e8f0;
  border-radius: 10px;  /* Now it has rounded corners on all sides */
    background: #fafafa;
    font-size: 1rem;
    line-height: 1.6;
}

.rich-text-editor:focus {
    outline: none;
    border-color: var(--primary-sage);
    background: white;
}

.rich-text-editor[contenteditable=true]:empty:before {
    content: attr(placeholder);
    color: #94a3b8;
}

/* Service Items */
.service-item-form {
    background: #f8f9fa;
    padding: 2rem;
    border-radius: 15px;
    margin-bottom: 1.5rem;
    position: relative;
}

.service-item-form h3 {
    font-size: 1.25rem;
    color: #64748b;
    margin-bottom: 1.5rem;
}

/* Timeline Items */


/* Moments Upload */

I'll provide you with an extremely detailed, step-by-step guide to update your code for the improved Cherished Moments interface.
Step 1: Update the Total Steps Count
Location: Around line 7680 in your code
Search for: const totalSteps = 6;
Change to: const totalSteps = 5;
Step 2: Remove Timeline from Progress Bar HTML
Location: Around line 2600-2610
Search for: The progress steps section in your HTML
Find this exact block:
html<div class="progress-step" data-step="4">
    <div class="step-circle">4</div>
    <span>Timeline</span>
</div>
DELETE this entire block (all 4 lines)
Step 3: Renumber the Remaining Progress Steps
Right after where you deleted the Timeline step, you'll see:
Find:
html<div class="progress-step" data-step="5">
    <div class="step-circle">5</div>
    <span>Moments</span>
</div>
<div class="progress-step" data-step="6">
    <div class="step-circle">6</div>
    <span>Preview</span>
</div>
Replace with:
html<div class="progress-step" data-step="4">
    <div class="step-circle">4</div>
    <span>Moments</span>
</div>
<div class="progress-step" data-step="5">
    <div class="step-circle">5</div>
    <span>Preview</span>
</div>
Step 4: Update Service Information Navigation Button
Location: Around line 2900
Search for: In the Service Information step (Step 3), find:
html<button type="button" class="btn-primary" onclick="nextStep()">
    Next: Life Timeline
    <i class="fas fa-arrow-right"></i>
</button>
Replace with:
html<button type="button" class="btn-primary" onclick="nextStep()">
    Next: Cherished Moments
    <i class="fas fa-arrow-right"></i>
</button>
Step 5: Remove the Timeline Form Section
Location: Around line 2920-2970
Search for: <!-- Step 4: Life Timeline -->
Find and DELETE this entire section (approximately 50 lines):
html<!-- Step 4: Life Timeline -->
<div class="form-step" id="step4">
    <h2 class="step-title">Life Journey Timeline</h2>
    <!-- ... all content ... -->
</div>
Delete everything from <!-- Step 4: Life Timeline --> up to (but not including) <!-- Step 5: Cherished Moments -->
Step 6: Replace the Cherished Moments Section
Location: Right after where you deleted the Timeline section
Search for: <!-- Step 5: Cherished Moments -->
Find this entire section:
html<!-- Step 5: Cherished Moments -->
<div class="form-step" id="step5">
    <!-- ... old content ... -->
</div>
Replace the ENTIRE section with:
html<!-- Step 4: Cherished Moments -->
<div class="form-step" id="step4">
    <h2 class="step-title">Cherished Moments</h2>
    <p class="step-subtitle">Upload photos and videos to celebrate special memories</p>

    <!-- Upload Section -->
    <div class="moments-upload-section">
        <div class="upload-zone-compact" id="momentsDropZone" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
            <i class="fas fa-cloud-upload-alt"></i>
            <div class="upload-text">
                <h4>Drag & drop photos or videos here</h4>
                <p>or</p>
                <button type="button" class="btn-upload" onclick="selectMoments()">
                    <i class="fas fa-folder-open"></i>
                    Browse Files
                </button>
                <small>Supports: JPG, PNG, GIF, MP4, MOV (Max 50MB per file)</small>
            </div>
        </div>
        
        <div class="upload-stats">
            <div class="stat-item">
                <i class="fas fa-images"></i>
                <span><strong id="photoCount">0</strong> Photos</span>
            </div>
            <div class="stat-item">
                <i class="fas fa-video"></i>
                <span><strong id="videoCount">0</strong> Videos</span>
            </div>
        </div>
    </div>

    <!-- Preview Section -->
    <div class="moments-preview-section">
        <div class="preview-header">
            <h3>Preview Your Gallery</h3>
            <div class="view-options">
                <button type="button" class="view-btn active" onclick="changeGridView('grid')">
                    <i class="fas fa-th"></i>
                </button>
                <button type="button" class="view-btn" onclick="changeGridView('list')">
                    <i class="fas fa-list"></i>
                </button>
            </div>
        </div>

        <div class="moments-preview-grid" id="momentsPreviewGrid">
            <!-- Empty state -->
            <div class="moments-empty-state" id="momentsEmptyState">
                <i class="fas fa-camera-retro"></i>
                <h4>No moments uploaded yet</h4>
                <p>Upload photos and videos to see them here</p>
            </div>
        </div>
    </div>

    <div class="form-actions">
        <button type="button" class="btn-secondary" onclick="previousStep()">
            <i class="fas fa-arrow-left"></i>
            Previous
        </button>
        <button type="button" class="btn-ghost" onclick="skipStep()">
            Skip This Step
        </button>
        <button type="button" class="btn-primary" onclick="nextStep()">
            Preview Memorial
            <i class="fas fa-arrow-right"></i>
        </button>
    </div>
</div>
Step 7: Update the Preview Section
Search for: <!-- Step 6: Preview -->
Replace:
html<!-- Step 6: Preview -->
<div class="form-step" id="step6">
With:
html<!-- Step 5: Preview -->
<div class="form-step" id="step5">
Step 8: Add CSS Styles
Location: In your <style> section, around line 1500
Search for: The existing moments CSS that starts with /* Moments Upload */
Find this section:
css/* Moments Upload */
.moments-upload-area {
    margin-bottom: 2rem;
}
/* ... existing CSS ... */
Replace the ENTIRE moments CSS section with:
css/* Cherished Moments Upload Interface - Improved */
.moments-upload-section {
    margin-bottom: 3rem;
}

.upload-zone-compact {
    border: 3px dashed var(--border-color);
    border-radius: 20px;
    padding: 3rem 2rem;
    text-align: center;
    background: var(--gradient-soft);
    transition: all 0.3s ease;
    cursor: pointer;
}

.upload-zone-compact:hover {
    border-color: var(--primary-sage);
    background: white;
    box-shadow: 0 10px 30px rgba(107, 145, 116, 0.1);
}

.upload-zone-compact.drag-over {
    border-color: var(--accent-gold);
    background: linear-gradient(135deg, rgba(232, 213, 183, 0.1) 0%, rgba(228, 183, 85, 0.1) 100%);
    transform: scale(1.02);
}

.upload-zone-compact i {
    font-size: 3rem;
    color: var(--primary-sage);
    margin-bottom: 1rem;
    opacity: 0.8;
}

.upload-text h4 {
    font-size: 1.5rem;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.upload-text p {
    color: var(--text-secondary);
    margin: 0.5rem 0;
}

.btn-upload {
    padding: 0.875rem 2rem;
    background: var(--gradient-earth);
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 1.05rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    margin: 1rem 0;
}

.btn-upload:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(107, 145, 116, 0.3);
}

.upload-stats {
    display: flex;
    justify-content: center;
    gap: 3rem;
    margin-top: 2rem;
}

.stat-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 2rem;
    background: white;
    border-radius: 50px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
}

.stat-item i {
    font-size: 1.25rem;
    color: var(--accent-gold);
}

.stat-item span {
    color: var(--text-secondary);
    font-size: 1rem;
}

.stat-item strong {
    color: var(--text-primary);
    font-size: 1.25rem;
    margin-right: 0.25rem;
}

/* Preview Section */
.moments-preview-section {
    background: white;
    border-radius: 20px;
    padding: 2rem;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    margin-bottom: 2rem;
}

.preview-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--border-color);
}

.preview-header h3 {
    font-size: 1.5rem;
    color: var(--text-primary);
    margin: 0;
}

.view-options {
    display: flex;
    gap: 0.5rem;
    background: var(--gradient-soft);
    padding: 0.25rem;
    border-radius: 10px;
}

.view-btn {
    padding: 0.5rem 1rem;
    background: none;
    border: none;
    border-radius: 8px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
}

.view-btn.active {
    background: white;
    color: var(--primary-sage);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.view-btn:hover:not(.active) {
    color: var(--text-primary);
}

/* Moments Grid */
.moments-preview-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
    min-height: 300px;
}

.moments-preview-grid.list-view {
    grid-template-columns: 1fr;
    gap: 0.75rem;
}

/* Empty State */
.moments-empty-state {
    grid-column: 1 / -1;
    text-align: center;
    padding: 4rem 2rem;
    color: var(--text-secondary);
}

.moments-empty-state i {
    font-size: 4rem;
    color: var(--primary-sage);
    opacity: 0.3;
    margin-bottom: 1rem;
}

.moments-empty-state h4 {
    font-size: 1.25rem;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
}

/* Moment Preview Items */
.moment-preview-item {
    position: relative;
    background: var(--gradient-soft);
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.3s ease;
    cursor: move;
}

.moment-preview-item:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0,0,0,0.15);
}

.moment-preview-item.list-view {
    display: flex;
    align-items: center;
    padding: 1rem;
    gap: 1rem;
}

.moment-preview-image {
    width: 100%;
    aspect-ratio: 1;
    overflow: hidden;
    position: relative;
}

.moment-preview-item.list-view .moment-preview-image {
    width: 80px;
    height: 80px;
    flex-shrink: 0;
    border-radius: 8px;
}

.moment-preview-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

.moment-preview-video {
    position: relative;
}

.video-indicator-overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 48px;
    height: 48px;
    background: rgba(0,0,0,0.7);
    backdrop-filter: blur(4px);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.25rem;
    pointer-events: none;
}

.moment-actions {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    display: flex;
    gap: 0.5rem;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.moment-preview-item:hover .moment-actions {
    opacity: 1;
}

.moment-action-btn {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.moment-edit-btn {
    background: white;
    color: var(--primary-sage);
}

.moment-edit-btn:hover {
    background: var(--primary-sage);
    color: white;
}

.moment-remove-btn {
    background: rgba(220, 38, 38, 0.9);
    color: white;
}

.moment-remove-btn:hover {
    background: rgba(220, 38, 38, 1);
    transform: scale(1.1);
}

.moment-caption {
    padding: 1rem;
}

.moment-preview-item.list-view .moment-caption {
    flex: 1;
    padding: 0;
}

.caption-input {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 0.95rem;
    transition: all 0.3s ease;
    background: white;
}

.caption-input:focus {
    outline: none;
    border-color: var(--primary-sage);
    box-shadow: 0 0 0 3px rgba(107, 145, 116, 0.1);
}

.caption-input::placeholder {
    color: var(--text-light);
}

.moment-date {
    font-size: 0.875rem;
    color: var(--text-secondary);
    margin-top: 0.5rem;
}

/* Drag and Drop Feedback */
.moment-preview-item.dragging {
    opacity: 0.5;
    transform: scale(0.95);
}

.moment-preview-item.drag-over {
    border: 2px dashed var(--accent-gold);
}

/* Responsive Design */
@media (max-width: 768px) {
    .moments-preview-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    }
    
    .upload-zone-compact {
        padding: 2rem 1rem;
    }
    
    .upload-stats {
        gap: 1.5rem;
    }
    
    .stat-item {
        padding: 0.75rem 1.25rem;
    }
}





























/* Preview */
.preview-container {
    margin-bottom: 2rem;
}

.preview-device {
    background: #1e293b;
    border-radius: 20px;
    padding: 2rem;
    display: flex;
    justify-content: center;
}

.device-frame {
    background: white;
    border-radius: 10px;
    width: 100%;
    max-width: 1200px;
    height: 600px;
    overflow: hidden;
    box-shadow: 0 20px 40px rgba(0,0,0,0.2);
}

#memorialPreview {
    width: 100%;
    height: 100%;
    border: none;
}

.preview-actions {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 1.5rem;
}

/* Privacy Options */
.privacy-options {
    display: grid;
    gap: 1rem;
}

.radio-option {
    display: flex;
    align-items: start;
    padding: 1.5rem;
    border: 2px solid #e2e8f0;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.radio-option:hover {
    border-color: var(--primary-sage);
    background: #f5f3ff;
}

.radio-option input[type="radio"] {
    margin-right: 1rem;
    margin-top: 0.25rem;
}

.radio-option input[type="radio"]:checked + .radio-content {
    color: var(--primary-sage);
}

.radio-content strong {
    display: block;
    margin-bottom: 0.25rem;
}

.radio-content small {
    color: #64748b;
}

/* Form Actions */
.form-actions {
    display: flex;
    justify-content: space-between;
    margin-top: 3rem;
    padding-top: 3rem;
    border-top: 1px solid #e2e8f0;
}

.btn-add {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: linear-gradient(135deg, var(--warm-sand) 0%, var(--accent-gold) 100%);
    border: none;
    border-radius: 10px;
    color: white;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-add:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(232, 213, 183, 0.3);
}

.btn-ghost {
    padding: 0.875rem 1.75rem;
    background: none;
    border: 2px solid #e2e8f0;
    border-radius: 10px;
    color: #64748b;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-ghost:hover {
    border-color: #cbd5e1;
    background: #f8f9fa;
}

.btn-publish {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.btn-publish:hover {
    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
}

/* Create Memorial Responsive */
@media (max-width: 768px) {
   .create-memorial-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 1rem 2rem; /* Reduced top padding */
}
    
    .create-memorial-header {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }
    
    .progress-steps {
        display: none;
    }
    
    .form-grid {
        grid-template-columns: 1fr;
    }
    
    .image-upload-grid {
        grid-template-columns: 1fr;
    }
    
    .form-actions {
        flex-direction: column;
        gap: 1rem;
    }
    
    .form-actions button {
        width: 100%;
        justify-content: center;
    }
}




















/* Responsive */
@media (max-width: 768px) {
    .profile-header-content {
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 1.5rem;
    }
    
    .profile-stats {
        justify-content: center;
    }
    
    .profile-tabs {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    .tab-header {
        flex-direction: column;
        gap: 1rem;
        align-items: stretch;
    }
    
    .memorials-grid {
        grid-template-columns: 1fr;
    }
    
    .contribution-item {
        flex-direction: column;
        text-align: center;
    }
}










        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: white;
            margin: 10% auto;
            padding: 2rem;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            box-shadow: var(--shadow-xl);
            animation: slideIn 0.3s ease;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-header h2 {
            font-size: 1.75rem;
            color: var(--text-primary);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
            transition: var(--transition);
        }

        .close-modal:hover {
            color: var(--text-primary);
            transform: rotate(90deg);
        }

        /* Forms */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 1rem;
            transition: var(--transition);
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .form-error {
            color: #E53E3E;
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: none;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
        }

        /* Loading Spinner */
        .loading-spinner {
            display: none;
            width: 40px;
            height: 40px;
            margin: 2rem auto;
            border: 4px solid var(--border-color);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Memorial Page Styles */
        .memorial-page {
            padding: 0;
            background: white;
        }

        .memorial-hero {
            position: relative;
            height: 600px;
            background: url('https://images.unsplash.com/photo-1516589091380-5d8e87df6999?w=1600&h=600&fit=crop') center/cover;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .memorial-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, transparent 0%, rgba(0,0,0,0.4) 100%);
            z-index: 1;
        }

        .memorial-hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(107, 145, 116, 0.3) 0%, rgba(207, 121, 57, 0.3) 50%, rgba(251, 146, 60, 0.3) 100%);
            mix-blend-mode: multiply;
        }

        .memorial-hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            color: white;
            animation: fadeIn 1.5s ease;
        }

        .memorial-main-photo {
            width: 220px;
            height: 220px;
            border-radius: 50%;
            border: 8px solid rgba(255, 255, 255, 0.9);
            margin-bottom: 2rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3), 0 0 80px rgba(251, 146, 60, 0.5);
            animation: float 6s ease-in-out infinite;
        }

        .memorial-main-name {
            font-size: 3.5rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            font-family: 'Merriweather', serif;
            letter-spacing: 2px;
        }

        .memorial-main-dates {
            font-size: 1.5rem;
            margin-bottom: 2.5rem;
            opacity: 0.95;
            font-weight: 300;
            letter-spacing: 1px;
        }

        .memorial-hero-actions {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
        }

        .memorial-hero-btn {
            padding: 1rem 2.5rem;
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255,255,255,0.5);
            color: white;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .memorial-hero-btn:hover {
            background: white;
            color: var(--primary-color);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .memorial-hero-btn i {
            font-size: 1.3rem;
        }

        .memorial-body {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Obituary Section */
        .obituary-section {
            padding: 6rem 0;
            background: linear-gradient(135deg, #ffeef8 0%, #fff5eb 50%, #f0f4ff 100%);
            margin: -80px 0 0;
            position: relative;
            z-index: 1;
            border-radius: 80px 80px 0 0;
        }

        .obituary-section::before {
            content: '';
            position: absolute;
            top: -50px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(251, 146, 60, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            filter: blur(40px);
        }

        .obituary-container {
            max-width: 850px;
            margin: 0 auto;
            text-align: center;
        }

        .obituary-title {
            font-size: 3rem;
            background: linear-gradient(135deg, var(--primary-sage) 0%, var(--accent-copper) 50%, #fb923c 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 2.5rem;
            font-weight: 300;
            font-family: 'Merriweather', serif;
            animation: fadeIn 1s ease;
        }

        .obituary-lead {
            font-size: 1.6rem;
            line-height: 1.9;
            color: var(--text-primary);
            margin-bottom: 3rem;
            font-weight: 300;
            font-style: italic;
            opacity: 0.9;
        }

        .obituary-details {
            text-align: left;
            background: white;
            padding: 4rem;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(107, 145, 116, 0.1);
            position: relative;
            overflow: hidden;
        }

        .obituary-details::before {
            content: '❝';
            position: absolute;
            top: -20px;
            left: 20px;
            font-size: 8rem;
            color: rgba(207, 121, 57, 0.1);
            font-family: serif;
        }

        .obituary-details p {
            font-size: 1.2rem;
            line-height: 2;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-family: 'Merriweather', serif;
        }

        .obituary-closing {
            font-style: italic;
            background: linear-gradient(135deg, var(--primary-sage) 0%, var(--accent-copper) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-top: 3rem;
            padding-top: 3rem;
            border-top: 2px solid rgba(107, 145, 116, 0.1);
            font-size: 1.3rem !important;
        }

        /* Service Information Section - Classic Elegant Redesign */
        .service-section {
            padding: 5rem 0;
            background: #ffffff;
            position: relative;
        }

        .service-container {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        .service-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .service-header h2 {
            font-size: 2.5rem;
            color: #2d3748;
            margin-bottom: 1rem;
            font-weight: 300;
            font-family: 'Merriweather', serif;
            letter-spacing: 1px;
        }

        .service-header p {
            font-size: 1.125rem;
            color: #718096;
            font-style: italic;
            font-weight: 300;
        }

        .service-info {
            background: #fafafa;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 3rem;
            margin-bottom: 2rem;
        }

        .service-item {
            padding: 2rem 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .service-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .service-item-header {
            display: flex;
            align-items: baseline;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .service-item-title {
            font-size: 1.5rem;
            color: #2d3748;
            font-weight: 500;
            font-family: 'Merriweather', serif;
        }

        .service-item-type {
            font-size: 0.875rem;
            color: var(--primary-sage);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .service-details {
            display: grid;
            gap: 1rem;
            color: #4a5568;
            font-size: 1.05rem;
            line-height: 1.8;
        }

        .service-detail-row {
            display: grid;
            grid-template-columns: 40px 1fr;
            align-items: start;
            gap: 1rem;
        }

        .service-detail-row i {
            color: #cbd5e1;
            font-size: 1.125rem;
            margin-top: 0.125rem;
        }

        .service-location-name {
            font-weight: 500;
            color: #2d3748;
            display: block;
            margin-bottom: 0.25rem;
        }

        .service-address {
            font-size: 0.95rem;
            color: #718096;
            line-height: 1.5;
        }

        .service-note {
            margin-top: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, #fef5f5 0%, #fef5ff 100%);
            border-radius: 12px;
            text-align: center;
            font-style: italic;
            color: #4a5568;
            line-height: 1.8;
        }

        .service-footer {
            margin-top: 3rem;
            padding-top: 3rem;
            border-top: 1px solid #e2e8f0;
            text-align: center;
        }

        .service-footer p {
            color: #718096;
            margin-bottom: 1.5rem;
            font-size: 1.05rem;
        }

        .service-footer a {
            color: var(--primary-sage);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .service-footer a:hover {
            color: #7c3aed;
            text-decoration: underline;
        }

        /* Timeline Section - New Warm Design */
      

       

        /* Guest Book Section */
        .guestbook-section {
            padding: 6rem 0;
            background: white;
            position: relative;
        }

        .guestbook-section::before {
            content: '💕';
            position: absolute;
            top: 50px;
            right: 10%;
            font-size: 3rem;
            opacity: 0.1;
            animation: float 10s ease-in-out infinite;
        }

        .guestbook-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .guestbook-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .guestbook-intro {
            font-size: 1.4rem;
            color: var(--text-secondary);
            margin-bottom: 2.5rem;
            font-style: italic;
        }

        .guestbook-entries {
            display: flex;
            flex-direction: column;
            gap: 2.5rem;
            margin-bottom: 5rem;
        }

        .guestbook-entry {
            background: linear-gradient(135deg, #ffeef8 0%, #fff5eb 100%);
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            transition: all 0.4s ease;
            border: 1px solid rgba(207, 121, 57, 0.1);
        }

        .guestbook-entry:hover {
            transform: translateX(10px);
            box-shadow: 0 15px 40px rgba(207, 121, 57, 0.15);
            border-color: rgba(207, 121, 57, 0.3);
        }

        .entry-header {
            display: flex;
            gap: 1.25rem;
            margin-bottom: 1.5rem;
        }

        .entry-header img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid rgba(207, 121, 57, 0.2);
        }

        .entry-info h4 {
            font-size: 1.25rem;
            color: var(--text-primary);
            margin-bottom: 0.35rem;
            font-weight: 600;
        }

        .entry-date {
            font-size: 0.95rem;
            color: #94a3b8;
            font-style: italic;
        }

        .entry-message {
            font-size: 1.1rem;
            line-height: 1.9;
            color: #475569;
            margin-bottom: 1.5rem;
            font-family: 'Merriweather', serif;
        }

        .entry-actions {
            display: flex;
            gap: 1.25rem;
        }

        .action-btn {
            padding: 0.6rem 1.25rem;
            background: white;
            border: 2px solid rgba(207, 121, 57, 0.2);
            border-radius: 25px;
            font-size: 0.95rem;
            color: #64748b;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.6rem;
        }

        .action-btn:hover {
            background: linear-gradient(135deg, var(--accent-copper) 0%, #fb923c 100%);
            color: white;
            border-color: transparent;
            transform: translateY(-2px);
        }

        .action-btn i {
            color: var(--accent-copper);
            transition: color 0.3s ease;
        }

        .action-btn:hover i {
            color: white;
        }

        .guestbook-candles {
            text-align: center;
            padding: 4rem;
            background: linear-gradient(135deg, var(--primary-sage) 0%, var(--accent-copper) 50%, #fb923c 100%);
            color: white;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(107, 145, 116, 0.3);
            position: relative;
            overflow: hidden;
        }

        .guestbook-candles::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .guestbook-candles h3 {
            font-size: 1.8rem;
            margin-bottom: 2rem;
            font-weight: 300;
            position: relative;
            z-index: 1;
        }

        #candleCount {
            font-weight: 600;
            font-size: 2.2rem;
        }

        .candle-display {
            display: flex;
            justify-content: center;
            gap: 3rem;
            font-size: 3.5rem;
            position: relative;
            z-index: 1;
        }

        .candle-display i {
            animation: flicker 3s ease-in-out infinite;
            text-shadow: 0 0 30px rgba(255,255,255,0.8);
        }

        .candle-display i:nth-child(2) { animation-delay: 0.5s; }
        .candle-display i:nth-child(3) { animation-delay: 1s; }
        .candle-display i:nth-child(4) { animation-delay: 1.5s; }
        .candle-display i:nth-child(5) { animation-delay: 2s; }

        @keyframes flicker {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1) translateY(0);
                filter: brightness(1.2);
            }
            50% { 
                opacity: 0.85; 
                transform: scale(1.1) translateY(-5px);
                filter: brightness(1.5);
            }
        }
        @media (max-width: 992px) {
            .hero-container {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .hero-image {
                display: none;
            }

            .about-content {
                grid-template-columns: 1fr;
            }

            .pricing-cards {
                grid-template-columns: 1fr;
            }

            .pricing-card.featured {
                transform: scale(1);
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .mobile-menu-toggle {
                display: block;
            }

            .hero-content h1 {
                font-size: 2rem;
            }

            .hero-content p {
                font-size: 1rem;
            }

            .hero-buttons {
                flex-direction: column;
                width: 100%;
            }

            .btn-primary,
            .btn-secondary {
                width: 100%;
                justify-content: center;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .footer-container {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .social-links {
                justify-content: center;
            }

           
        }



/* Logo Responsive Adjustments */
/* Tablet size */
@media (max-width: 768px) {
    .logo svg {
        height: 60px;  /* Adjusted for tablets */
    }
}

/* Mobile size */
@media (max-width: 480px) {
    .logo svg {
        height: 55px;  /* Adjusted for mobile */
    }
    
    /* Hide tagline on small screens for space */
    .logo svg text:last-of-type {
        display: none;  /* This hides "MEMORIAL SPACES" */
    }
}

/* Very small screens */
@media (max-width: 360px) {
    .logo svg text {
        display: none;  /* Hide all text */
    }
    .logo svg {
        width: 50px;
        height: 50px;
    }
}






        /* Mobile Menu */
        .mobile-menu {
            display: none;
            position: fixed;
            top: 70px;
            left: 0;
            width: 100%;
            background: white;
            box-shadow: var(--shadow-lg);
            z-index: 999;
            animation: slideIn 0.3s ease;
        }

        .mobile-menu.active {
            display: block;
        }

        .mobile-menu-links {
            list-style: none;
            padding: 1rem;
        }

        .mobile-menu-links li {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .mobile-menu-links a {
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 500;
            display: block;
        }

        .mobile-menu-auth {
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Print Styles */
        @media print {
            nav, footer, .modal, .floating-card {
                display: none;
            }

            body {
                color: black;
                background: white;
            }

            .hero {
                min-height: auto;
                padding: 2rem;
            }
        }




 /* Loading state for app initialization */
        .app-loading {
            position: relative;
            pointer-events: none;
            opacity: 0.7;
        }

        .app-loading::after {
            content: 'Loading...';
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 1rem 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            z-index: 9999;
            font-weight: 500;
            color: var(--text-secondary);
        }

        /* Spinner for buttons */
        .fa-spinner {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }























/* Cherished Moments Section - Complete Redesign */



/* VSCO-Inspired Moments Section */
.moments-vsco {
    padding: 6rem 2rem;
    max-width: 1400px;
    margin: 0 auto;
}

/* Minimal Header */
.moments-header-minimal {
    text-align: center;
    margin-bottom: 3rem;
}

.moments-title-minimal {
    font-size: 2.5rem;
    font-weight: 300;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
    font-family: 'Merriweather', serif;
    letter-spacing: 1px;
}

.moments-tagline {
    font-size: 1.125rem;
    color: var(--text-light);
    font-style: italic;
    font-weight: 300;
}

/* Clean Grid Layout */
.moments-grid-vsco {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 8px;
    margin-bottom: 6rem;
}

/* Moment Items - VSCO Style */
.moment-vsco {
    position: relative;
    aspect-ratio: 1;
    overflow: hidden;
    background: var(--soft-linen);
    cursor: pointer;
    transition: opacity 0.3s ease;
}

.moment-vsco:hover {
    opacity: 0.9;
}

.moment-vsco.wide {
    grid-column: span 2;
}

.moment-vsco.tall {
    grid-row: span 2;
    aspect-ratio: auto;
}

.moment-vsco img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

/* Subtle Hover Overlay */
.moment-overlay-vsco {
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom, transparent 60%, rgba(0,0,0,0.3) 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 1.5rem;
}

.moment-vsco:hover .moment-overlay-vsco {
    opacity: 1;
}

.moment-date-vsco {
    font-size: 0.75rem;
    color: rgba(255,255,255,0.8);
    margin-bottom: 0.25rem;
    font-weight: 400;
    letter-spacing: 0.5px;
}

.moment-caption-vsco {
    font-size: 0.875rem;
    color: white;
    font-weight: 300;
    line-height: 1.4;
}

/* Video Indicator */
.video-indicator {
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: 32px;
    height: 32px;
    background: rgba(0,0,0,0.5);
    backdrop-filter: blur(10px);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 0.75rem;
}

/* Milestone Badge - Minimal */
.milestone-indicator {
    position: absolute;
    top: 1rem;
    left: 1rem;
    background: rgba(255,255,255,0.9);
    padding: 0.375rem 0.75rem;
    border-radius: 20px;
    font-size: 0.7rem;
    font-weight: 500;
    color: var(--primary-sage);
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* Load More - Simple */
.load-more-vsco {
    text-align: center;
    padding: 4rem 0;
}

.load-more-btn {
    background: none;
    border: 1px solid var(--border-color);
    padding: 1rem 3rem;
    font-size: 0.875rem;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 400;
    letter-spacing: 0.5px;
    text-transform: lowercase;
}

.load-more-btn:hover {
    border-color: var(--text-secondary);
    background: var(--soft-linen);
}

/* Add Memory Button - Floating */
.add-memory-fab {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    width: 56px;
    height: 56px;
    background: var(--primary-sage);
    border-radius: 50%;
    border: none;
    color: white;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(107, 145, 116, 0.3);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    z-index: 100;
}

.add-memory-fab:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 30px rgba(107, 145, 116, 0.4);
}

/* Responsive */
@media (max-width: 768px) {
    .moments-grid-vsco {
        grid-template-columns: repeat(2, 1fr);
        gap: 4px;
    }
    
    .moment-vsco.wide {
        grid-column: span 1;
    }
}

@media (max-width: 480px) {
    .moments-grid-vsco {
        grid-template-columns: 1fr;
    }
}











































/* Badges */
.moment-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: linear-gradient(135deg, #E4B755 0%, #CF7939 100%);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 25px;
    font-size: 0.875rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    box-shadow: 0 5px 15px rgba(228, 183, 85, 0.4);
}

/* Quote Card */
.quote-card .moment-inner {
    background: linear-gradient(135deg, #6B9174 0%, #9B8B7E 50%, #CF7939 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
}

.quote-content {
    text-align: center;
    color: white;
    position: relative;
    z-index: 2;
}

.quote-content i {
    font-size: 3rem;
    opacity: 0.3;
    margin-bottom: 1rem;
}

.quote-text {
    font-size: 1.5rem;
    font-family: 'Merriweather', serif;
    line-height: 1.8;
    margin-bottom: 1rem;
    font-style: italic;
}

.quote-author {
    font-size: 1rem;
    opacity: 0.9;
}

.quote-decoration {
    position: absolute;
    inset: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></svg>');
    background-size: 200px 200px;
    animation: rotate 30s linear infinite;
}

/* Collage Grid */
.collage-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    gap: 2px;
    width: 100%;
    height: 100%;
}

.collage-grid img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* View More Button */
.moments-footer {
    text-align: center;
    margin-bottom: 4rem;
}

.view-all-moments {
    padding: 1.25rem 2.5rem;
    background: white;
    border: 2px solid #e8e2d5;
    border-radius: 50px;
    font-size: 1.125rem;
    font-weight: 600;
    color: #6B9174;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 1rem;
}

.view-all-moments:hover {
    background: linear-gradient(135deg, #6B9174 0%, #9B8B7E 100%);
    color: white;
    border-color: transparent;
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(107, 145, 116, 0.3);
}

.view-all-moments i {
    transition: transform 0.3s ease;
}

.view-all-moments:hover i {
    transform: translateX(5px);
}

/* Upload Prompt */
.upload-prompt {
    background: white;
    border-radius: 30px;
    padding: 4rem;
    text-align: center;
    box-shadow: 0 20px 60px rgba(0,0,0,0.08);
    border: 1px solid #e8e2d5;
}

.upload-prompt-content i {
    font-size: 4rem;
    color: #6B9174;
    margin-bottom: 1.5rem;
    opacity: 0.8;
}

.upload-prompt-content h3 {
    font-size: 2rem;
    color: #2d3748;
    margin-bottom: 1rem;
    font-family: 'Merriweather', serif;
}

.upload-prompt-content p {
    font-size: 1.125rem;
    color: #64748b;
    margin-bottom: 2rem;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
}

/* Heart Animation */
@keyframes floatUp {
    from {
        transform: translateY(0);
        opacity: 1;
    }
    to {
        transform: translateY(-50px);
        opacity: 0;
    }
}

/* Responsive Design */
@media (max-width: 768px) {
    .moments-title {
        font-size: 2.5rem;
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .moments-masonry {
        grid-template-columns: 1fr;
        grid-auto-rows: 250px;
    }
    
    .moment-item.featured,
    .moment-item.landscape,
    .moment-item.collage {
        grid-column: span 1;
    }
    
    .filter-tab {
        padding: 0.75rem 1.25rem;
        font-size: 0.9rem;
    }
    
    .upload-prompt {
        padding: 2rem;
    }
}

/* Loading Animation */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}





/* Fix for form step visibility */
.form-step {
    display: none;
}

.form-step.active {
    display: block !important;
    animation: fadeIn 0.5s ease;
}

/* Ensure form container maintains proper layout */
.create-memorial-form {
    position: relative;
}






/* Force all form step content to stay inside the white box */
.create-memorial-form .form-step {
    width: 100%;
}

.create-memorial-form .form-step .step-title,
.create-memorial-form .form-step .step-subtitle {
    padding-left: 0;
    padding-right: 0;
    margin-left: 0;
    margin-right: 0;
}

/* Ensure proper spacing for all steps */
.form-step:not(#step1) {
    padding-top: 0 !important;
}

.form-step:not(#step1) .step-title:first-child {
    margin-top: 0 !important;
    padding-top: 0 !important;
}














    </style>
</head>
<body>
    <!-- Navigation -->
    <nav role="navigation" aria-label="Main navigation">
        <div class="nav-container">




<a href="#home" class="logo" onclick="showPage('home')">

 

<svg width="240" height="85" viewBox="0 0 240 85" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <!-- Tree foliage gradient - vibrant earthy greens -->
        <linearGradient id="navFoliageGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#6B9174;stop-opacity:1" />
            <stop offset="50%" style="stop-color:#9B8B7E;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#E4B755;stop-opacity:1" />
        </linearGradient>
        
        <!-- Trunk gradient - rich browns -->
        <linearGradient id="navTrunkGradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#8B6D47;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#6B5536;stop-opacity:1" />
        </linearGradient>
        
        <!-- Background circle gradient -->
        <radialGradient id="navBgGradient">
            <stop offset="0%" style="stop-color:#FFF9F0;stop-opacity:0.8" />
            <stop offset="70%" style="stop-color:#E8D5B7;stop-opacity:0.2" />
            <stop offset="100%" style="stop-color:#E8D5B7;stop-opacity:0" />
        </radialGradient>
    </defs>
    
    <!-- Background circle -->
    <circle cx="35" cy="35" r="30" fill="url(#navBgGradient)"/>
    
    <!-- Tree design -->
    <g transform="translate(35, 35)">
        <!-- Tree trunk -->
        <path d="M -3,12 L -3,0 L -1.5,-4 L 0,-6 L 1.5,-4 L 3,0 L 3,12 Z" 
              fill="url(#navTrunkGradient)" 
              opacity="0.9"/>
        
        <!-- Tree roots -->
        <path d="M -3,12 Q -6,15 -8,18 M 3,12 Q 6,15 8,18 M 0,12 L 0,16" 
              stroke="#8B7355" 
              stroke-width="1.2" 
              fill="none" 
              stroke-linecap="round"
              opacity="0.5"/>
        
        <!-- Main foliage with more vibrant colors -->
        <circle cx="0" cy="-10" r="14" fill="url(#navFoliageGradient)" opacity="0.9"/>
        <circle cx="-7" cy="-7" r="10" fill="#6B9174" opacity="0.7"/>
        <circle cx="7" cy="-7" r="10" fill="#E4B755" opacity="0.6"/>
        <circle cx="0" cy="-14" r="8" fill="#CF7939" opacity="0.5"/>
        
        <!-- Small leaves -->
        <g transform="translate(-8, -16)">
            <ellipse cx="0" cy="0" rx="3" ry="5" fill="#7C9885" opacity="0.7" transform="rotate(-15)"/>
        </g>
        <g transform="translate(8, -14)">
            <ellipse cx="0" cy="0" rx="3" ry="5" fill="#8B8680" opacity="0.7" transform="rotate(15)"/>
        </g>
        <g transform="translate(0, -20)">
            <ellipse cx="0" cy="0" rx="2.5" ry="4" fill="#A39B8B" opacity="0.6"/>
        </g>
    </g>
    
    <!-- Text -->
    <text x="78" y="43" font-family="'Segoe UI', -apple-system, sans-serif" font-size="32" font-weight="300" fill="#3A3633">
        Tayvu
    </text>
    
    <!-- Tagline -->
    <text x="78" y="58" font-family="'Segoe UI', -apple-system, sans-serif" font-size="11" font-weight="400" fill="#8B8680" letter-spacing="1">
        MEMORIAL SPACES
    </text>
</svg>














</a>





    


            
            <ul class="nav-links">
                <li><a href="#home" onclick="showPage('home')">Home</a></li>
                <li><a href="#about" onclick="showPage('about')">About</a></li>
                <li><a href="#pricing" onclick="showPage('pricing')">Pricing</a></li>
                <li><a href="#faq" onclick="showPage('faq')">FAQ</a></li>
         
            </ul>
            
            <div class="auth-buttons">
                <a href="#" class="btn-signin" onclick="openModal('signin')">Sign In</a>
                <button class="profile-btn" onclick="goToProfile()" aria-label="Profile">
    <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop" 
         alt="Profile" 
         class="profile-btn-img"
         id="navProfilePhoto"
         style="display: none;">
    <span class="profile-btn-initial" id="navProfileInitial">U</span>
</button>
                <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle menu">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <ul class="mobile-menu-links">
            <li><a href="#home" onclick="showPage('home'); toggleMobileMenu()">Home</a></li>
            <li><a href="#about" onclick="showPage('about'); toggleMobileMenu()">About</a></li>
            <li><a href="#pricing" onclick="showPage('pricing'); toggleMobileMenu()">Pricing</a></li>
            <li><a href="#faq" onclick="showPage('faq'); toggleMobileMenu()">FAQ</a></li>
           
        </ul>
        <div class="mobile-menu-auth">
            <a href="#" class="btn-signin" onclick="openModal('signin'); toggleMobileMenu()">Sign In</a>
        </div>
    </div>

    <!-- Home Page -->
    <main id="home" class="page-section active">
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-container">
                <div class="hero-content">
                    <h1>Honor Their Memory with <span>Beautiful Digital Tributes</span></h1>
                    <p>Create lasting TEST online memorials that celebrate lives, preserve memories, and bring loved ones together in remembrance.</p>
                    <div class="hero-buttons">
                       
                      <a href="#" class="btn-primary" onclick="goToCreateMemorial()">
    <span>Create Memorial</span>
    <i class="fas fa-arrow-right"></i>
</a>

                    </div>
                    
                </div>
                <div class="hero-image">



               


                    <div class="hero-visual">
                        <div class="memorial-card-preview">
                            <div class="memorial-card-header">
                                <img src="https://images.unsplash.com/photo-1566616213894-2d4e1baee5d8?w=100&h=100&fit=crop&crop=face" 
                                     alt="Memorial preview" 
                                     class="memorial-card-photo">
                            </div>
                            <div class="memorial-card-body">
                                <h3 class="memorial-card-name">Margaret Rose Thompson</h3>
                                <p class="memorial-card-dates">1945 - 2023</p>
                                <p class="memorial-card-description">
                                    A life filled with love, laughter, and endless compassion...
                                </p>

                               <button class="memorial-card-button" onclick="showPage('exampleMemorial')">
    <i class="fas fa-eye"></i>
    <span>See Example</span>
</button>

      



                            </div>
                        </div>

                       <div class="floating-elements">
        <!-- Add these floating hearts -->
    <span class="floating-heart floating-heart-1">❤️</span>
    <span class="floating-heart floating-heart-2">💕</span>
    <span class="floating-heart floating-heart-3">💖</span>
    <span class="floating-heart floating-heart-4">❤️</span>
</div>


                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features">
            <div class="features-container">
                <div class="section-header">
                    <h2>Everything You Need to Create Meaningful Memorials</h2>
                    <p>Our platform blends heartfelt design with intuitive tools to help you celebrate and preserve cherished memories.</p>
                </div>
                









                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <h3>Transparent pricing</h3>
                        <p>One-time payment with no hidden fees or recurring charges after that.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-photo-video"></i>
                        </div>
                        <h3>No Advertisements</h3>
                        <p> Advertisements will never be displayed on memorial pages.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>Trusted & Secure</h3>
                        <p>Your memories are protected with enterprise-grade security.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>Compassionate Design</h3>
                        <p>Thoughtfully crafted templates and layouts that honor your loved one's memory with dignity, warmth, and beauty.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-infinity"></i>
                        </div>
                        <h3>Community Tributes</h3>
                        <p>Friends and family can contribute their own memories, creating a rich tapestry of shared experiences.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h3>Privacy First</h3>
                        <p>We never share or sell your data to third parties, period.</p>
                    </div>
                </div>
            </div>
        </section>











        <!-- How It Works Section -->
        <section class="how-it-works">
            <div class="how-it-works-container">
                <div class="how-it-works-header animate-fade-in">
                    <h2>How It Works</h2>
                    <p>Creating a beautiful memorial is simple and takes just minutes. Follow these three easy steps to honor your loved one.</p>
                </div>
                
                <div class="steps-container">
                    <div class="step-card animate-fade-in">
                        <div class="step-number">1</div>
                        <div class="step-visual">
                            <div class="visual-mockup">
                                <div class="mockup-form">
                                    <div class="mockup-input"></div>
                                    <div class="mockup-input"></div>
                                    <div class="mockup-input"></div>
                                    <div class="mockup-button"></div>
                                </div>
                            </div>
                        </div>
                        <h3 class="step-title">Sign Up & Share Details</h3>
                        <p class="step-description">Create your account and tell us about your loved one. Share their name, dates, and the story you want to tell.</p>
                    </div>
                    
                    <div class="step-card animate-fade-in">
                        <div class="step-number">2</div>
                        <div class="step-visual">
                            <div class="visual-mockup">
                                <div class="mockup-upload">
                                    <div class="mockup-upload-icon">
                                        <i class="fas fa-images"></i>
                                    </div>
                                    <div class="mockup-text"></div>
                                    <div class="mockup-text short"></div>
                                </div>
                            </div>
                        </div>
                        <h3 class="step-title">Upload Photos & Memories</h3>
                        <p class="step-description">Add photos, videos, and stories that capture their spirit. Create a timeline of their life's most precious moments.</p>
                    </div>
                    
                    <div class="step-card animate-fade-in">
                        <div class="step-number">3</div>
                        <div class="step-visual">
                            <div class="visual-mockup">
                                <div class="mockup-browser">
                                    <div class="mockup-content">
                                        <div class="mockup-avatar"></div>
                                        <div class="mockup-text"></div>
                                        <div class="mockup-text short"></div>
                                        <div class="mockup-text"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <h3 class="step-title">Share & Celebrate</h3>
                        <p class="step-description">Your beautiful memorial is ready to share. Invite family and friends to contribute their own memories and tributes.</p>
                    </div>
                </div>

                <div class="cta-section">
                    <div class="cta-content">
                        <h3 class="cta-title">Ready to Create a Memorial?</h3>
                        <p class="cta-description">Join thousands of families who have chosen to honor their loved ones with our beautiful digital memorials.</p>
                        <div class="cta-buttons">
                            
                            <a href="#" class="btn-primary" onclick="goToCreateMemorial()">
    <i class="fas fa-heart"></i>
    Start Creating
</a>

                         <button class="btn-secondary" onclick="showPage('exampleMemorial')">
    <i class="fas fa-eye"></i>
    View Example
</button>

                        </div>
                    </div>
                </div>
            </div>
        </section>

    
    </main>

    <!-- About Page -->
<!-- About Page -->
<section id="about" class="page-section">
    <!-- About Hero Section -->


 <!-- About Hero Section -->
    <div class="about-hero">
       <div class="about-hero-background">
    <div class="floating-heart-bg heart-1">❤️</div>
    <div class="floating-heart-bg heart-2">💕</div>
    <div class="floating-heart-bg heart-3">💖</div>
    <div class="floating-heart-bg heart-4">❤️</div>
</div>
        <div class="about-hero-content">
            <h1 class="about-hero-title animate-fade-in">About Us</h1>
            <p class="about-hero-subtitle animate-fade-in">We believe every life deserves to be remembered with dignity and love</p>
        </div>
    </div>



    <!-- Our Story Section -->
    <div class="about-story-section">
        <div class="page-container">
            <div class="story-card animate-fade-in">
             
                <h2 class="story-title">Our Story</h2>
                <div class="story-content">
                    <p class="story-text">The name <span class="highlight-text">Tayvu</span> represents our vision of memorials where we truly see and honor our loved one's humanity.</p>
                    <p class="story-text">Born from the belief that remembrance happens when we pause to witness the full lives of those we've lost, Tayvu creates spaces where love and memory can flourish.</p>
                    <div class="story-divider">
                        <i class="fas fa-heart"></i>
                    </div>
                    <p class="story-text emphasis">We created Tayvu because we believe grief is not meant to be carried alone, and memories are not meant to fade in isolation.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Values Section -->
    <div class="about-values-section">
        <div class="page-container">
            <div class="values-grid">
                <div class="value-card animate-fade-in">
                    <div class="value-icon-wrapper">
                        <i class="fas fa-hands-holding-heart"></i>
                    </div>
                    <h3>Compassion</h3>
                    <p>Every feature is designed with empathy for those experiencing loss</p>
                </div>
                <div class="value-card animate-fade-in">
                    <div class="value-icon-wrapper">
                        <i class="fas fa-infinity"></i>
                    </div>
                    <h3>Eternal Memory</h3>
                    <p>Your loved one's story lives on forever in our digital sanctuary</p>
                </div>
                <div class="value-card animate-fade-in">
                    <div class="value-icon-wrapper">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Community</h3>
                    <p>Connect with others who understand and share in remembrance</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Our Promise Section -->
    <div class="about-promise-section">
        <div class="page-container">





          <div class="promise-container animate-fade-in">
    <div class="promise-content">
        <h2 class="promise-title">Our Promise</h2>
        <p class="promise-text">Through thoughtful implementation, Tayvu has transformed into a meaningful symbol of how we preserve and share what matters most.</p>
        <p class="promise-text">Whether you're planning ahead, facing sudden loss, or seeking a meaningful way to honor someone special, we're here to support you.</p>
        
        <div class="promise-features">
            <div class="promise-feature">
                <i class="fas fa-check-circle"></i>
                <span>Your memories are safe forever</span>
            </div>
            <div class="promise-feature">
                <i class="fas fa-check-circle"></i>
                <span>No ads, ever - just pure remembrance</span>
            </div>
            <div class="promise-feature">
                <i class="fas fa-check-circle"></i>
                <span>Complete privacy control</span>
            </div>
            <div class="promise-feature">
                <i class="fas fa-check-circle"></i>
                <span>24/7 compassionate support</span>
            </div>
        </div>
    </div>
    <div class="promise-image">
        <img src="https://images.unsplash.com/photo-1609234656388-0ff363383899?w=600&h=400&fit=crop" alt="Peaceful memorial garden with flowers">
    </div>
</div>






        </div>
    </div>







    <!-- CTA Section -->
    <div class="about-cta-section">
        <div class="page-container">
            <div class="about-cta-container animate-fade-in">
                <h2>Ready to Create a Beautiful Memorial?</h2>
                <p>Honor your loved one with a digital tribute that truly captures their spirit</p>
                <div class="about-cta-buttons">
                    <button class="btn-primary" onclick="goToCreateMemorial()">
                        <i class="fas fa-heart"></i>
                        Create Memorial
                    </button>
                    <button class="btn-secondary" onclick="showPage('pricing')">
                        <i class="fas fa-tag"></i>
                        View Pricing
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>














    <!-- Pricing Page -->
    <section id="pricing" class="page-section">
        <div class="page-container">
            <div class="section-header animate-fade-in">
                <h1>Simple, Transparent Pricing</h1>
                <p>Choose the plan that best honors your loved one's memory</p>
            </div>
            
            <div class="pricing-cards">
                <div class="pricing-card animate-fade-in">
                    <h3 class="pricing-title">Basic Memorial</h3>
                    <div class="pricing-price">$99<span>.99</span></div>
                    <p class="pricing-description">Essential features for a beautiful tribute</p>
                    <ul class="pricing-features">
                        <li><i class="fas fa-check"></i> Hosted forever, no renewal fees</li>
                        <li><i class="fas fa-check"></i> No advertisements on memorials, ever</li>
                        <li><i class="fas fa-check"></i> Basic privacy controls (public/private)</li>
                        <li><i class="fas fa-check"></i> Up to 10 photos</li>
                        <li><i class="fas fa-check"></i> Guest book for messages</li>
                        <li><i class="fas fa-check"></i> Share via link</li>
                        <li><i class="fas fa-check"></i> Mobile friendly</li>
                        <li><i class="fas fa-check"></i> Professional, dignified design</li>
                    </ul>
                    <button class="pricing-cta" onclick="selectPlan('basic')">Create Basic Memorial</button>
                </div>
                
                <div class="pricing-card featured animate-fade-in">
                    <div class="pricing-badge">Most Popular</div>
                    <h3 class="pricing-title">Full Featured Memorial</h3>
                    <div class="pricing-price">$149<span>.99</span></div>
                    <p class="pricing-description">Everything you need for a complete tribute</p>
                    <ul class="pricing-features">
                        <li><i class="fas fa-check"></i> Everything in Basic</li>
                        <li><i class="fas fa-check"></i> Up to 100 Photo Uploads</li>
                        <li><i class="fas fa-check"></i> Video Uploads</li>
                        <li><i class="fas fa-check"></i> Integrated Donation Collection</li>
                        <li><i class="fas fa-check"></i> Multiple memorial administrators</li>
                         <li><i class="fas fa-check"></i> Guest book includes messages and images</li>
                        <li><i class="fas fa-check"></i> Privacy controls</li>
                                               <li><i class="fas fa-check"></i> Priority support</li>
                    </ul>
                    <button class="pricing-cta" onclick="selectPlan('full')">Create Full Memorial</button>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Page --> 
    <section id="faq" class="page-section">
        <div class="page-container">
            <div class="section-header animate-fade-in">
                <h1>Frequently Asked Questions</h1>
                <p>Everything you need to know about creating and managing digital memorials</p>
            </div>
            
            <div class="faq-container">
                <div class="faq-category">
                    <h2 class="faq-category-title">
                        <i class="fas fa-info-circle"></i>
                        General Questions
                    </h2>
                    
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)">
                            <span>What is Tayvu?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>Tayvu is a compassionate digital platform that allows families to create beautiful, lasting online memorials for their loved ones. Our service goes beyond traditional obituaries by providing interactive features like photo galleries, timelines, guest books, and the ability for friends and family to share memories and tributes.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)">
                            <span>How long will the memorial stay online?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>Your memorial will remain online forever. We are committed to preserving memories for generations to come. Unlike other services that may remove content after a certain period, we guarantee that your loved one's memorial will always be accessible to family and friends.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)">
                            <span>Can I create a memorial for someone who passed away years ago?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>Absolutely! There's no time limit on when you can create a memorial. Many families create memorials years after their loved one's passing as a way to preserve memories and share stories with younger generations who may not have had the chance to meet them.</p>
                        </div>
                    </div>
                </div>

                <div class="faq-category">
                    <h2 class="faq-category-title">
                        <i class="fas fa-cog"></i>
                        Creating & Managing Memorials
                    </h2>
                    
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)">
                            <span>How do I create a memorial?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>Creating a memorial is simple:</p>
                            <ol>
                                <li>Sign up for an account or sign in</li>
                                <li>Click "Create Memorial" and choose your plan</li>
                                <li>Fill in basic information about your loved one</li>
                                <li>Upload photos and add stories</li>
                                <li>Customize the memorial with timeline events and other features</li>
                                <li>Share the memorial link with family and friends</li>
                            </ol>
                            <p>Our intuitive interface guides you through each step, and you can save your progress and return anytime.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)">
                            <span>Can multiple people manage a memorial?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>Yes! You can invite family members to be co-administrators of the memorial. This allows multiple people to add photos, update information, and manage guest book entries. It's a great way to share the responsibility and ensure the memorial includes memories from different family members.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)">
                            <span>What types of content can I add to a memorial?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>You can add a variety of content to make the memorial unique and personal:</p>
                            <ul>
                                <li><strong>Photos:</strong> Unlimited high-resolution images</li>
                                <li><strong>Videos:</strong> Share video memories and tributes</li>
                                <li><strong>Life Story:</strong> Write a detailed biography or obituary</li>
                                <li><strong>Timeline:</strong> Create a chronological journey of important life events</li>
                                <li><strong>Music:</strong> Add favorite songs or background music</li>
                                <li><strong>Documents:</strong> Upload certificates, awards, or other meaningful documents</li>
                                <li><strong>Guest Book:</strong> Allow visitors to leave messages and memories</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="faq-category">
                    <h2 class="faq-category-title">
                        <i class="fas fa-shield-alt"></i>
                        Privacy & Security
                    </h2>
                    
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)">
                            <span>Can I control who sees the memorial?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>Yes, you have complete control over memorial privacy. You can choose from:</p>
                            <ul>
                                <li><strong>Public:</strong> Anyone can find and view the memorial</li>
                                <li><strong>Unlisted:</strong> Only people with the direct link can access it</li>
                                <li><strong>Private:</strong> Password-protected, only invited guests can view</li>
                            </ul>
                            <p>You can also control whether visitors can leave messages.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)">
                            <span>Is my data secure?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>Absolutely. We use enterprise-grade security measures including:</p>
                            <ul>
                                <li>SSL encryption for all data transmission</li>
                                <li>Secure cloud storage with regular backups</li>
                                <li>GDPR-compliant data handling</li>
                                <li>Regular security audits and updates</li>
                            </ul>
                            <p>Your memories and personal information are protected with the highest standards of digital security.</p>
                        </div>
                    </div>
                </div>

                <div class="faq-category">
                    <h2 class="faq-category-title">
                        <i class="fas fa-dollar-sign"></i>
                        Pricing & Payment
                    </h2>
                    
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)">
                            <span>What's included in each plan?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p><strong>Basic Memorial ($49.99):</strong></p>
                            <ul>
                                <li>Beautiful memorial page</li>
                                <li>Up to 50 photos</li>
                                <li>Life story section</li>
                                <li>Guest book for messages</li>
                                <li>Share via link</li>
                                <li>Mobile friendly</li>
                            </ul>
                            <p><strong>Full Featured Memorial ($99.99):</strong></p>
                            <ul>
                                <li>Everything in Basic, plus:</li>
                                <li>Unlimited photos & videos</li>
                                <li>Timeline of life events</li>
                                <li>Music & audio memories</li>
                                <li>Virtual candle lighting</li>
                                <li>Donation collection</li>
                                <li>Privacy controls</li>
                                <li>Download memorial book</li>
                                <li>Priority support</li>
                            </ul>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)">
                            <span>Are there any recurring fees?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>No! Both our Basic and Full Featured plans are one-time payments. There are no monthly or annual fees. Once you create a memorial, it stays online forever at no additional cost.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)">
                            <span>Can I upgrade my plan later?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>Yes, you can upgrade from Basic to Full Featured at any time. You'll only pay the difference between the two plans. All your existing content will be preserved, and you'll immediately get access to all the additional features.</p>
                        </div>
                    </div>
                </div>

                <div class="faq-category">
                    <h2 class="faq-category-title">
                        <i class="fas fa-life-ring"></i>
                        Support & Help
                    </h2>
                    
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)">
                            <span>What if I need help creating a memorial?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>We're here to help! Our support team is available 24/7 to assist you:</p>
                            <ul>
                                <li>Email: support@tayvu.com</li>
                          
                            </ul>
                            <p>We also offer step-by-step tutorials and can even help you set up the memorial over the phone if needed.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)">
                            <span>Can I transfer a memorial from another service?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>Yes! We offer free migration assistance from other memorial websites. Our team can help you transfer photos, text, and other content from your existing memorial. Contact our support team, and we'll guide you through the process.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="faq-cta">
                <h3>Still have questions?</h3>
                <p>Our compassionate support team is here to help you create a beautiful memorial for your loved one.</p>
                <div class="faq-cta-buttons">
                    <a href="mailto:support@tayvu.com" class="btn-primary">
                        <i class="fas fa-envelope"></i>
                        <span>Email Support</span>
                    </a>
                    
                </div>
            </div>
        </div>
    </section>

<!-- Profile Page -->
<section id="profile" class="page-section">
    <div class="profile-page-container">
        <!-- Profile Header -->


        <div class="profile-header-section">
            <div class="profile-cover-photo"></div>
            <div class="profile-header-content">
                <div class="profile-photo-container">
                    <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop" 
                         alt="Profile" 
                         class="profile-photo-large"
                         id="profilePhotoLarge">
                    <button class="profile-photo-edit" onclick="uploadProfilePhoto()">
                        <i class="fas fa-camera"></i>
                    </button>
                </div>
                <div class="profile-info">
                    <h1 class="profile-name" id="profileName">Loading...</h1>
                    <p class="profile-email" id="profileEmail">Loading...</p>
                   </div>
                   </div>
</div>

                   <div class="profile-stats">
    <div class="profile-stat">
        <span class="stat-value" id="memorialsCount">0</span>
        <span class="stat-label">Memorials</span>
    </div>
    <div class="profile-stat">
        <span class="stat-value" id="contributionsCount">0</span>
        <span class="stat-label">Contributions</span>
    </div>
    <div class="profile-stat">
        <span class="stat-value" id="visitorsCount">0</span>
        <span class="stat-label">Visitors</span>
    </div>
</div>

              
       



        <!-- Profile Content Tabs -->
        <div class="profile-content">
            <div class="profile-tabs">
                <button class="profile-tab active" onclick="switchProfileTab('memorials')">
                    <i class="fas fa-monument"></i>
                    My Memorials
                </button>
                <button class="profile-tab" onclick="switchProfileTab('contributions')">
                    <i class="fas fa-heart"></i>
                    My Contributions
                </button>
                <button class="profile-tab" onclick="switchProfileTab('settings')">
                    <i class="fas fa-cog"></i>
                    Settings
                </button>
            </div>

            <!-- Memorials Tab -->
           <div class="profile-tab-content active" id="memorialsTab">
    <div class="tab-header">
        <h2 class="section-title">My Memorials</h2>
        <button class="btn-primary" onclick="goToCreateMemorial()">
            <i class="fas fa-plus"></i>
            Create New Memorial
        </button>
    </div>
    
 
             
                <div class="memorials-grid" id="myMemorials">
                    <!-- Memorial cards will be populated here -->


               <div class="empty-state">
    <div class="empty-state-icon">
        <i class="fas fa-monument"></i>
    </div>
    <h3>No memorials yet</h3>
    <p>Create your first memorial to honor a loved one</p>
    <button class="btn-primary" onclick="goToCreateMemorial()">
        <i class="fas fa-plus"></i>
        Create Memorial
    </button>
</div>





                </div>
            </div>

            <!-- Contributions Tab -->
            <div class="profile-tab-content" id="contributionsTab">
               <div class="tab-header">
    <h2 class="section-title">My Contributions</h2>  <!-- ADD class="section-title" -->
</div>
                <div class="contributions-list" id="myContributions">
                    <!-- Contributions will be populated here -->

                   <div class="empty-state">
    <div class="empty-state-icon"> 
        <i class="fas fa-heart"></i>
    </div>
    <h3>No contributions yet</h3>
    <p>Visit memorials to leave messages and light candles</p>
</div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div class="profile-tab-content" id="settingsTab">
                <div class="tab-header">
    <h2 class="section-title">Account Settings</h2>  <!-- ADD class="section-title" -->
</div>
                <div class="settings-container">
                    <div class="settings-section">
                        <h3>Profile Information</h3>
                        <form id="profileSettingsForm" onsubmit="updateProfile(event)">
                            <div class="form-group">
                                <label for="settingsName">Display Name</label>
                                <input type="text" id="settingsName" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="settingsEmail">Email</label>
                                <input type="email" id="settingsEmail" name="email" disabled>
                                <small>Email cannot be changed</small>
                            </div>
                         
                            <button type="submit" class="btn-primary">
                                <i class="fas fa-save"></i>
                                Save Changes
                            </button>
                        </form>
                    </div>

                    <div class="settings-section danger-zone">
                        <h3>Danger Zone</h3>
                        <p>Once you delete your account, there is no going back. Please be certain.</p>
                        <button class="btn-danger" onclick="confirmDeleteAccount()">
                            <i class="fas fa-trash"></i>
                            Delete Account
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



<!-- Create Memorial Page -->
<section id="createMemorial" class="page-section create-memorial-page">
    <div class="create-memorial-container">
        <!-- Header -->
        <div class="create-memorial-header">
            <button class="back-button" onclick="goToProfile()">
                <i class="fas fa-arrow-left"></i>
                Back to Profile
            </button>
            <h1>Create Memorial</h1>
            <button class="save-draft-btn" onclick="saveDraft()">
                <i class="fas fa-save"></i>
                Save Draft
            </button>
        </div>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-steps">
                <div class="progress-step active" data-step="1">
                    <div class="step-circle">1</div>
                    <span>Basic Info</span>
                </div>
                <div class="progress-step" data-step="2">
                    <div class="step-circle">2</div>
                    <span>Obituary</span>
                </div>
                <div class="progress-step" data-step="3">
                    <div class="step-circle">3</div>
                    <span>Service Info</span>
                </div>
               
                <div class="progress-step" data-step="4">
                    <div class="step-circle">5</div>
                    <span>Moments</span>
                </div>
                <div class="progress-step" data-step="5">
                    <div class="step-circle">6</div>
                    <span>Preview</span>
                </div>
            </div>
        </div>

        <!-- Form Container -->
        <div class="create-memorial-form">
            <!-- Step 1: Basic Information -->
            <div class="form-step active" id="step1">
                <h2 class="step-title">Basic Information</h2>
                <p class="step-subtitle">Let's start with the essential details</p>

                <div class="form-section">
                    <h3>Personal Details</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="firstName">First Name *</label>
                            <input type="text" id="firstName" name="firstName" required placeholder="Enter first name">
                        </div>

                        <!-- ADD THIS NEW MIDDLE NAME FIELD HERE -->
                       <div class="form-group">
                       <label for="middleName">Middle Name</label>
                        <input type="text" id="middleName" name="middleName" placeholder="Enter middle name (optional)">
                        </div>

                        <div class="form-group">
                            <label for="lastName">Last Name *</label>
                            <input type="text" id="lastName" name="lastName" required placeholder="Enter last name">
                        </div>
                        <div class="form-group">
    <label for="birthDate">Date of Birth *</label>
   <input type="date" 
       id="birthDate" 
       name="birthDate" 
       required 
       min="1850-01-01"
       max=""
       onchange="validateDates()"
       oninput="validateDates()">
    <small id="birthDateError" style="color: #E53E3E; display: none;"></small>
</div>
<div class="form-group">
    <label for="deathDate">Date of Passing *</label>
    <input type="date" 
       id="deathDate" 
       name="deathDate" 
       required 
       min="1850-01-01"
       max=""
       onchange="validateDates()"
       oninput="validateDates()">
    <small id="deathDateError" style="color: #E53E3E; display: none;"></small>
</div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Memorial Images</h3>
                    <div class="image-upload-grid">
                        <div class="image-upload-box">
                            <label>Profile Photo *</label>
                            <div class="upload-area" id="profilePhotoUpload" onclick="uploadImage('profile')">
                                <img id="profilePhotoPreview" style="display: none;">
                                <div class="upload-placeholder">
                                    <i class="fas fa-camera"></i>
                                    <p>Click to upload profile photo</p>
                                    <small>Recommended: Square image, min 400x400px</small>
                                </div>
                            </div>
                        </div>


                           <div class="image-upload-box">
                             <label>Background Image (Optional)</label>
                             <div class="upload-area" id="backgroundPhotoUpload" onclick="uploadImage('background')">

                            <img id="backgroundPhotoPreview" style="display: none;">
                               <div class="upload-placeholder">
                             <i class="fas fa-image"></i>
                             <p>Click to upload background image</p>
                             <small>Recommended: 1600x600px</small>
                           </div>
                            </div>
    
    <!-- ADD THIS NEW SECTION FOR DEFAULT IMAGES -->
    <div style="margin-top: 1rem;">
        <p style="text-align: center; color: #64748b; margin-bottom: 1rem;">Or choose from our collection:</p>
        <div class="default-backgrounds-grid">
            <div class="default-bg-option" onclick="selectDefaultBackground('https://images.unsplash.com/photo-1516589091380-5d8e87df6999?w=1600&h=600&fit=crop')" title="Sunset Sky">
                <img src="https://images.unsplash.com/photo-1516589091380-5d8e87df6999?w=200&h=75&fit=crop" alt="Sunset Sky">
                <span>Sunset Sky</span>
            </div>
            <div class="default-bg-option" onclick="selectDefaultBackground('https://images.unsplash.com/photo-1500382017468-9049fed747ef?w=1600&h=600&fit=crop')" title="Peaceful Field">
                <img src="https://images.unsplash.com/photo-1500382017468-9049fed747ef?w=200&h=75&fit=crop" alt="Peaceful Field">
                <span>Peaceful Field</span>
            </div>
            <div class="default-bg-option" onclick="selectDefaultBackground('https://images.unsplash.com/photo-1505144808419-1957a94ca61e?w=1600&h=600&fit=crop')" title="Ocean Waves">
                <img src="https://images.unsplash.com/photo-1505144808419-1957a94ca61e?w=200&h=75&fit=crop" alt="Ocean Waves">
                <span>Ocean Waves</span>
            </div>
            <div class="default-bg-option" onclick="selectDefaultBackground('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1600&h=600&fit=crop')" title="Beach Sunset">
                <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=200&h=75&fit=crop" alt="Beach Sunset">
                <span>Beach Sunset</span>
            </div>
            <div class="default-bg-option" onclick="selectDefaultBackground('https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1600&h=600&fit=crop')" title="Forest Path">
                <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=200&h=75&fit=crop" alt="Forest Path">
                <span>Forest Path</span>
  
  
  
          </div>
            <div class="default-bg-option" onclick="selectDefaultBackground('https://images.unsplash.com/photo-1518173946687-a4c8892bbd9f?w=1600&h=600&fit=crop')" title="Mountain Lake">
                <img src="https://images.unsplash.com/photo-1518173946687-a4c8892bbd9f?w=200&h=75&fit=crop" alt="Mountain Lake">
                <span>Mountain Lake</span>
            </div>
        </div>
    </div>

 </div>

</div>

                    </div>






<div class="form-section">
    <h3>Memorial Headline</h3>
    <div class="form-group">
        <label for="headline">Headline *</label>
        <input type="text" id="headline" name="headline" required placeholder="e.g., 'Celebrating a Life of Love and Compassion'">
        <small>A meaningful phrase that captures their essence</small>
        <div style="margin-top: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
            <small style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #64748b;">Need inspiration? Consider these examples:</small>
            <ul style="margin: 0; padding-left: 1.5rem; color: #64748b; font-size: 0.875rem; line-height: 1.6;">
                <li>A Life Devoted to Family and Faith</li>
                <li>Forever in Our Hearts, Always in Our Memories</li>
                <li>Celebrating a Legacy of Love and Laughter</li>
                <li>A Beautiful Soul Who Touched Many Lives</li>
                <li>Remembering a Life of Service and Compassion</li>
            </ul>
        </div>
    </div>
</div>

<div class="form-section">
    <h3>Opening Statement</h3>
    <div class="form-group">
        <label for="openingStatement">Opening Statement *</label>
        <textarea id="openingStatement" name="openingStatement" rows="4" required placeholder="Write a heartfelt opening that introduces your loved one..."></textarea>
        <small>A brief, heartfelt introduction that sets the tone for the memorial</small>
        <div style="margin-top: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
            <small style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #64748b;">Example opening statements:</small>
            <ul style="margin: 0; padding-left: 1.5rem; color: #64748b; font-size: 0.875rem; line-height: 1.8;">
                <li style="margin-bottom: 0.5rem;">Margaret Rose Thompson, beloved mother, grandmother, and pillar of her community, peacefully passed away on December 3, 2023, at the age of 78, surrounded by her loving family.</li>
                <li style="margin-bottom: 0.5rem;">With heavy hearts, we announce the passing of John Michael Davis, devoted husband, father, and friend to many, who left us on January 15, 2024, after a courageous battle with cancer.</li>
                <li style="margin-bottom: 0.5rem;">It is with profound sadness that we share the news of Sarah Elizabeth Wilson's passing on February 20, 2024. A beacon of light and joy to all who knew her, Sarah lived a life full of adventure, laughter, and unconditional love.</li>
                <li>Robert James Anderson, cherished father, grandfather, and respected community leader, completed his earthly journey on March 10, 2024, leaving behind a legacy of kindness, integrity, and service to others.</li>
            </ul>
        </div>
    </div>
</div>

<div class="form-actions">
    <button type="button" class="btn-secondary" onclick="goToProfile()">Cancel</button>
    <button type="button" class="btn-primary" onclick="nextStep()">
        Next: Obituary Details
        <i class="fas fa-arrow-right"></i>
    </button>
</div>  <!-- This closes form-actions -->

</div>  <!-- This closes Step 1 -->

<!-- Step 2: Life Story -->
<div class="form-step" id="step2">
    <h2 class="step-title">Obituary Details</h2>
    <p class="step-subtitle">Write the full obituary to honor and celebrate their life</p>
    <div class="form-section">
        <div class="form-group">
            <label for="lifeStory">Full Obituary</label>
            <div id="lifeStory" class="rich-text-editor" contenteditable="true" placeholder="Write the complete obituary here. Include their life story, accomplishments, family, passions, and legacy...">
            </div>
            <small>This is where you can write the complete obituary. Include details about their childhood, education, career, family life, hobbies, achievements, and the legacy they leave behind. Take your time to create a meaningful tribute.</small>
        </div>
    </div>

    <div class="form-actions">
        <button type="button" class="btn-secondary" onclick="previousStep()">
            <i class="fas fa-arrow-left"></i>
            Previous
        </button>
        <button type="button" class="btn-primary" onclick="nextStep()">
            Next: Service Information
            <i class="fas fa-arrow-right"></i>
        </button>
    </div>
</div>






















            <!-- Step 3: Service Information -->
            <div class="form-step" id="step3">
                <h2 class="step-title">Service Information</h2>
                <p class="step-subtitle">Add details about memorial services (optional)</p>

                <div class="service-items" id="serviceItems">
                    <div class="service-item-form">
                        <h3>Service 1</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Service Type</label>
                                <select name="serviceType">
                                    <option value="">Select type...</option>
                                    <option value="viewing">Viewing & Visitation</option>
                                    <option value="funeral">Funeral Service</option>
                                    <option value="memorial">Memorial Service</option>
                                    <option value="celebration">Celebration of Life</option>
                                    <option value="reception">Reception</option>
                                    <option value="burial">Burial</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Date</label>
                                <input type="date" name="serviceDate">
                            </div>
                            <div class="form-group">
                                <label>Time</label>
                                <input type="time" name="serviceTime">
                            </div>
                            <div class="form-group">
                                <label>Location Name</label>
                                <input type="text" name="locationName" placeholder="e.g., St. Mary's Church">
                            </div>
                            <div class="form-group full-width">
                                <label>Address</label>
                                <input type="text" name="locationAddress" placeholder="Full address">
                            </div>
                        </div>
                    </div>
                </div>

                <button type="button" class="btn-add" onclick="addServiceItem()">
                    <i class="fas fa-plus"></i>
                    Add Another Service
                </button>

                <div class="form-section">
                    <div class="form-group">
                        <label for="serviceNote">Additional Information (Optional)</label>
                        <textarea id="serviceNote" rows="2" placeholder="e.g., 'The family warmly invites you to join them for refreshments...'"></textarea>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="previousStep()">
                        <i class="fas fa-arrow-left"></i>
                        Previous
                    </button>
                    <button type="button" class="btn-ghost" onclick="skipStep()">
                        Skip This Step
                    </button>
                    <button type="button" class="btn-primary" onclick="nextStep()">
    Next: Cherished Moments
    <i class="fas fa-arrow-right"></i>
</button>
                </div>
            </div>


           

<!-- Step 4: Cherished Moments -->
<div class="form-step" id="step4">
    <h2 class="step-title">Cherished Moments</h2>
    <p class="step-subtitle">Upload photos and videos to celebrate special memories</p>

    <!-- Upload Section -->
    <div class="moments-upload-section">
        <div class="upload-zone-compact" id="momentsDropZone" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
            <i class="fas fa-cloud-upload-alt"></i>
            <div class="upload-text">
                <h4>Drag & drop photos or videos here</h4>
                <p>or</p>
                <button type="button" class="btn-upload" onclick="selectMoments()">
                    <i class="fas fa-folder-open"></i>
                    Browse Files
                </button>
                <small>Supports: JPG, PNG, GIF, MP4, MOV (Max 50MB per file)</small>
            </div>
        </div>
        
        <div class="upload-stats">
            <div class="stat-item">
                <i class="fas fa-images"></i>
                <span><strong id="photoCount">0</strong> Photos</span>
            </div>
            <div class="stat-item">
                <i class="fas fa-video"></i>
                <span><strong id="videoCount">0</strong> Videos</span>
            </div>
        </div>
    </div>

    <!-- Preview Section -->
    <div class="moments-preview-section">
        <div class="preview-header">
            <h3>Preview Your Gallery</h3>
            <div class="view-options">
                <button type="button" class="view-btn active" onclick="changeGridView('grid')">
                    <i class="fas fa-th"></i>
                </button>
                <button type="button" class="view-btn" onclick="changeGridView('list')">
                    <i class="fas fa-list"></i>
                </button>
            </div>
        </div>

        <div class="moments-preview-grid" id="momentsPreviewGrid">
            <!-- Empty state -->
            <div class="moments-empty-state" id="momentsEmptyState">
                <i class="fas fa-camera-retro"></i>
                <h4>No moments uploaded yet</h4>
                <p>Upload photos and videos to see them here</p>
            </div>
        </div>
    </div>

    <div class="form-actions">
        <button type="button" class="btn-secondary" onclick="previousStep()">
            <i class="fas fa-arrow-left"></i>
            Previous
        </button>
        <button type="button" class="btn-ghost" onclick="skipStep()">
            Skip This Step
        </button>
        <button type="button" class="btn-primary" onclick="nextStep()">
            Preview Memorial
            <i class="fas fa-arrow-right"></i>
        </button>
    </div>
</div>



















            <!-- Step 6: Preview -->
            <div class="form-step" id="step5">
                <h2 class="step-title">Preview Your Memorial</h2>
                <p class="step-subtitle">Review how the memorial will look before publishing</p>

                <div class="preview-container">
                    <div class="preview-device">
                        <div class="device-frame">
                            <iframe id="memorialPreview" src="#"></iframe>
                        </div>
                    </div>
                    
                    <div class="preview-actions">
                        <button type="button" class="btn-ghost" onclick="previewDevice('desktop')">
                            <i class="fas fa-desktop"></i>
                            Desktop
                        </button>
                        <button type="button" class="btn-ghost" onclick="previewDevice('tablet')">
                            <i class="fas fa-tablet-alt"></i>
                            Tablet
                        </button>
                        <button type="button" class="btn-ghost" onclick="previewDevice('mobile')">
                            <i class="fas fa-mobile-alt"></i>
                            Mobile
                        </button>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Privacy Settings</h3>
                    <div class="privacy-options">
                        <label class="radio-option">
                            <input type="radio" name="privacy" value="public" checked>
                            <div class="radio-content">
                                <strong>Public</strong>
                                <small>Anyone can find and view this memorial</small>
                            </div>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="privacy" value="unlisted">
                            <div class="radio-content">
                                <strong>Unlisted</strong>
                                <small>Only people with the link can view</small>
                            </div>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="privacy" value="private">
                            <div class="radio-content">
                                <strong>Private</strong>
                                <small>Password protected - invite only</small>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="previousStep()">
                        <i class="fas fa-arrow-left"></i>
                        Back to Edit
                    </button>
                    <button type="button" class="btn-primary btn-publish" onclick="publishMemorial()">
                        <i class="fas fa-globe"></i>
                        Publish Memorial
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

























    <!-- Example Memorial Page -->
    <section id="exampleMemorial" class="page-section memorial-page">
        <div class="memorial-hero">
            <div class="memorial-hero-overlay"></div>
            <div class="memorial-hero-content">
                <img src="https://images.unsplash.com/photo-1566616213894-2d4e1baee5d8?w=200&h=200&fit=crop" alt="Margaret Rose Thompson" class="memorial-main-photo">
                <h1 class="memorial-main-name">Margaret Rose Thompson</h1>
                <p class="memorial-main-dates">March 15, 1945 - December 3, 2023</p>
               
               
              <div class="memorial-hero-actions">
    <button class="memorial-hero-btn" onclick="shareMemorial()">
        <i class="fas fa-share"></i>
        Share Memorial
    </button>
</div>


                
            </div>
        </div>

        <div class="memorial-body">
            <!-- Obituary Section -->
            <section class="obituary-section">
                <div class="obituary-container">
                    <h2 class="obituary-title">Celebrating a Life of Love and Compassion</h2>
                    <div class="obituary-content">
                        <p class="obituary-lead serif-text">
                            Margaret Rose Thompson, beloved mother, grandmother, and pillar of her community, peacefully passed away on December 3, 2023, at the age of 78, surrounded by her loving family.
                        </p>
                        <div class="obituary-details">
                            <p>Born in Springfield, Illinois, Margaret was the eldest of five children. She graduated from Northwestern University with a degree in Education and dedicated 35 years to teaching elementary school, touching the lives of thousands of students who still remember her warmth and encouragement.</p>
                            <p>Margaret married her college sweetheart, Robert Thompson, in 1968, and together they raised three wonderful children: Sarah, Michael, and Emily. Her greatest joy came from her seven grandchildren, who lovingly called her "Nana Rose."</p>
                            <p>An avid gardener and community volunteer, Margaret transformed countless lives through her work with the local food bank and literacy programs. Her garden was legendary in the neighborhood, and she never missed an opportunity to share both her flowers and her wisdom with others.</p>
                            <p>Margaret is survived by her husband of 55 years, Robert; her three children and their spouses; seven grandchildren; and countless friends whose lives she enriched. She was preceded in death by her parents and two siblings.</p>
                            
                        </div>
                    </div>
                </div>
            </section>

            <!-- Service Information Section -->
            <section class="service-section">
                <div class="service-container">
                    <div class="service-header">
                        <h2>Join Us in Celebrating Margaret's Life</h2>
                        <p>All are welcome to attend and share in remembering a life well-lived</p>
                    </div>

                    <div class="service-info">
                        <div class="service-item">
                            <div class="service-item-header">
                                <h3 class="service-item-title">Viewing & Visitation</h3>
                            
                            </div>
                            <div class="service-details">
                                <div class="service-detail-row">
                                    <i class="fas fa-calendar"></i>
                                    <span>December 7, 2023</span>
                                </div>
                                <div class="service-detail-row">
                                    <i class="fas fa-clock"></i>
                                    <span>4:00 PM - 8:00 PM</span>
                                </div>
                                <div class="service-detail-row">
                                    <i class="fas fa-location-dot"></i>
                                    <div>
                                        <span class="service-location-name">Thompson Funeral Home</span>
                                        <span class="service-address">1234 Oak Street<br>Springfield, IL 62701</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="service-item">
                            <div class="service-item-header">
                                <h3 class="service-item-title">Celebration of Life Service</h3>
                             
                            </div>
                            <div class="service-details">
                                <div class="service-detail-row">
                                    <i class="fas fa-calendar"></i>
                                    <span>December 8, 2023</span>
                                </div>
                                <div class="service-detail-row">
                                    <i class="fas fa-clock"></i>
                                    <span>11:00 AM</span>
                                </div>
                                <div class="service-detail-row">
                                    <i class="fas fa-location-dot"></i>
                                    <div>
                                        <span class="service-location-name">St. Mary's Church</span>
                                        <span class="service-address">789 Cathedral Avenue<br>Springfield, IL 62702</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="service-item">
                            <div class="service-item-header">
                                <h3 class="service-item-title">Reception & Fellowship</h3>
                              
                            </div>
                            <div class="service-details">
                                <div class="service-detail-row">
                                    <i class="fas fa-clock"></i>
                                    <span>1:00 PM - 3:00 PM</span>
                                </div>
                                <div class="service-detail-row">
                                    <i class="fas fa-location-dot"></i>
                                    <div>
                                        <span class="service-location-name">Church Community Hall</span>
                                        <span class="service-address">Adjacent to St. Mary's Church</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    

                    <div class="service-footer">
                        <p>In lieu of flowers, donations may be made to the Springfield Literacy Foundation</p>
                        <p>For questions, please contact: <a href="mailto:thompsonmemorial@email.com">thompsonmemorial@email.com</a></p>
                    </div>
                </div>
            </section>





          

<!-- Cherished Moments Section - VSCO Style -->
<section class="moments-vsco">
    <!-- Minimal Header -->
    <div class="moments-header-minimal">
        <h2 class="moments-title-minimal">Cherished Moments</h2>
        <p class="moments-tagline">A tapestry of love woven through time</p>
    </div>

    <!-- Clean Grid -->
    <div class="moments-grid-vsco">
        <!-- Standard photo -->
        <div class="moment-vsco" data-category="photos">
            <img src="https://images.unsplash.com/photo-1530103862676-de8c9debad1d?w=400&h=400&fit=crop" alt="75th Birthday">
            <div class="moment-overlay-vsco">
                <div class="moment-date-vsco">March 15, 2020</div>
                <div class="moment-caption-vsco">75th birthday celebration</div>
            </div>
        </div>

        <!-- Wide photo -->
        <div class="moment-vsco wide" data-category="photos milestones">
            <img src="https://images.unsplash.com/photo-1534067783941-51c9c23ecefd?w=800&h=400&fit=crop" alt="Garden Award">
            <div class="moment-overlay-vsco">
                <div class="moment-date-vsco">May 20, 2021</div>
                <div class="moment-caption-vsco">Garden club award winner - 3 years running</div>
            </div>
            <span class="milestone-indicator">milestone</span>
        </div>

        <!-- Video -->
        <div class="moment-vsco" data-category="videos">
            <img src="https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=400&h=400&fit=crop" alt="Wedding Dance">
            <div class="moment-overlay-vsco">
                <div class="moment-date-vsco">June 12, 1968</div>
                <div class="moment-caption-vsco">First dance as newlyweds</div>
            </div>
            <div class="video-indicator">
                <i class="fas fa-play"></i>
            </div>
        </div>

        <!-- Standard photos -->
        <div class="moment-vsco" data-category="photos">
            <img src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=400&fit=crop" alt="Paris Trip">
            <div class="moment-overlay-vsco">
                <div class="moment-date-vsco">September 8, 2018</div>
                <div class="moment-caption-vsco">Dream trip to Paris</div>
            </div>
        </div>

        <div class="moment-vsco" data-category="photos">
            <img src="https://images.unsplash.com/photo-1606787366850-de6330128bfc?w=400&h=400&fit=crop" alt="Family BBQ">
            <div class="moment-overlay-vsco">
                <div class="moment-date-vsco">July 4, 2022</div>
                <div class="moment-caption-vsco">Annual family BBQ</div>
            </div>
        </div>

        <!-- Tall photo -->
        <div class="moment-vsco tall" data-category="photos milestones">
            <img src="https://images.unsplash.com/photo-1543807535-eceef0bc6599?w=400&h=800&fit=crop" alt="Christmas 2022">
            <div class="moment-overlay-vsco">
                <div class="moment-date-vsco">December 25, 2022</div>
                <div class="moment-caption-vsco">Last Christmas together</div>
            </div>
            <span class="milestone-indicator">milestone</span>
        </div>

        <!-- More standard photos -->
        <div class="moment-vsco" data-category="photos">
            <img src="https://images.unsplash.com/photo-1516589091380-5d8e87df6999?w=400&h=400&fit=crop" alt="Memory">
            <div class="moment-overlay-vsco">
                <div class="moment-date-vsco">August 3, 2019</div>
                <div class="moment-caption-vsco">Summer garden party</div>
            </div>
        </div>

        <div class="moment-vsco" data-category="videos milestones">
            <img src="https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=400&h=400&fit=crop" alt="50th Anniversary">
            <div class="moment-overlay-vsco">
                <div class="moment-date-vsco">June 12, 2018</div>
                <div class="moment-caption-vsco">50th anniversary toast</div>
            </div>
            <div class="video-indicator">
                <i class="fas fa-play"></i>
            </div>
            <span class="milestone-indicator">golden</span>
        </div>

        <div class="moment-vsco" data-category="photos">
            <img src="https://images.unsplash.com/photo-1523438097201-512ae7d59c44?w=400&h=400&fit=crop" alt="Memory">
            <div class="moment-overlay-vsco">
                <div class="moment-date-vsco">October 15, 2021</div>
                <div class="moment-caption-vsco">Autumn walk in the park</div>
            </div>
        </div>
    </div>

    <!-- Load More -->
    <div class="load-more-vsco">
        <button class="load-more-btn" onclick="loadMoreMemories()">load more memories</button>
    </div>
</section>

<!-- Floating Add Button for Memories -->
<button class="add-memory-fab" onclick="uploadMemory()">
    <i class="fas fa-plus"></i>
</button>





 





































            <!-- Guest Book Section -->
            <section class="guestbook-section">
                <div class="guestbook-container">
                    <h2 class="section-title">Messages of Love</h2>
                    <div class="guestbook-header">
                        <p class="guestbook-intro">Share your memories and messages for the Thompson family</p>
                        <button class="btn-primary" onclick="openGuestbookModal()">
                            <i class="fas fa-pen"></i>
                            Leave a Message
                        </button>
                    </div>

                    <div class="guestbook-entries">
                        <div class="guestbook-entry">
                            <div class="entry-header">
                                <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=50&h=50&fit=crop" alt="Sarah Johnson">
                                <div class="entry-info">
                                    <h4>Sarah Johnson</h4>
                                    <p class="entry-date">December 5, 2023</p>
                                </div>
                            </div>
                            <p class="entry-message">Grandma, you were the heart of our family. Your wisdom, kindness, and famous apple pie will be missed but never forgotten. Thank you for teaching me that love is the greatest gift we can give. Until we meet again...</p>
                            <div class="entry-actions">
                                <button class="action-btn"><i class="fas fa-heart"></i> 24</button>
                            </div>
                        </div>

                        <div class="guestbook-entry">
                            <div class="entry-header">
                                <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=50&h=50&fit=crop" alt="Michael Chen">
                                <div class="entry-info">
                                    <h4>Michael Chen</h4>
                                    <p class="entry-date">December 4, 2023</p>
                                </div>
                            </div>
                            <p class="entry-message">Mrs. Thompson was my third-grade teacher and changed my life. She saw potential in a shy kid and encouraged me to pursue my dreams. I became a teacher because of her. Her legacy lives on in every student she touched.</p>
                            <div class="entry-actions">
                                <button class="action-btn"><i class="fas fa-heart"></i> 18</button>
                            </div>
                        </div>

                        <div class="guestbook-entry">
                            <div class="entry-header">
                                <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=50&h=50&fit=crop" alt="Emily Williams">
                                <div class="entry-info">
                                    <h4>Emily Williams</h4>
                                    <p class="entry-date">December 4, 2023</p>
                                </div>
                            </div>
                            <p class="entry-message">Margaret's garden was a sanctuary for our entire neighborhood. She shared not just her flowers, but her time, her stories, and her incredible spirit. The community has lost a true treasure.</p>
                            <div class="entry-actions">
                                <button class="action-btn"><i class="fas fa-heart"></i> 32</button>
                            </div>
                        </div>
                    </div>

                    
                </div>
            </section>
        </div>
    </section>

    <!-- Footer -->
    <footer role="contentinfo">
        <div class="footer-container">
            <div class="footer-section">
                <h4>Tayvu</h4>
                <p>Creating beautiful digital tributes to celebrate lives and preserve memories.</p>
                <div class="social-links">
                    <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="#home" onclick="showPage('home')">Home</a></li>
                    <li><a href="#about" onclick="showPage('about')">About Us</a></li>
                    <li><a href="#pricing" onclick="showPage('pricing')">Pricing</a></li>
                 
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Support</h4>
                <ul>
                    <li><a href="#">Help Center</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms of Service</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Contact</h4>
                <ul>
                    <li><i class="fas fa-envelope"></i> support@tayvu.com</li>
            
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 Tayvu, LLC. All rights reserved. Made with love for those we remember.</p>
        </div>
    </footer>

<!-- Supabase SDK -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>



    <!-- Sign In Modal -->
    <div id="signinModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Sign In</h2>
                <button class="close-modal" onclick="closeModal('signin')">&times;</button>
            </div>
            <form id="signinForm" onsubmit="handleSignIn(event)">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                    <span class="form-error" id="emailError">Please enter a valid email</span>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required>
                    <span class="form-error" id="passwordError">Password is required</span>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="showSignUp()">Create Account</button>
                    <button type="submit" class="btn-primary">Sign In</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Sign Up Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create Account</h2>
                <button class="close-modal" onclick="closeModal('signup')">&times;</button>
            </div>
            <form id="signupForm" onsubmit="handleSignUp(event)">
                <div class="form-group">
                    <label for="signupName">Full Name</label>
                    <input type="text" id="signupName" name="name" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" name="email" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" name="password" required minlength="6">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="showSignIn()">Already have account</button>
                    <button type="submit" class="btn-primary">Create Account</button>
                </div>
            </form>
        </div>
    </div>



    <script>



// Supabase Configuration - Professional Implementation
let supabase = null;
let configCache = null;
const FUNCTIONS_URL = '/.netlify/functions';

// Get Supabase configuration with caching
async function getSupabaseConfig() {
    // Check session storage cache first
    const cached = sessionStorage.getItem('supabase_config');
    if (cached) {
        return JSON.parse(cached);
    }
    
    try {
        const response = await fetch(`${FUNCTIONS_URL}/get-config`);
        if (!response.ok) {
            throw new Error(`Config fetch failed: ${response.status}`);
        }
        
        const config = await response.json();
        
        // Validate config has required fields
        if (!config.supabaseUrl || !config.supabaseAnonKey) {
            throw new Error('Invalid configuration received');
        }
        
        // Cache for this session
        sessionStorage.setItem('supabase_config', JSON.stringify(config));
        
        return config;
    } catch (error) {
        console.error('Configuration error:', error);
        throw new Error('Unable to load application configuration');
    }
}

// Initialize the app with proper error handling and auth state management
async function initializeApp() {
    try {
        // Show loading state (optional - add a loading indicator to your UI)
        console.log('Initializing application...');
        
        // Get config (cached after first load)
        const config = await getSupabaseConfig();
        
        // Initialize Supabase client with enhanced options
        const { createClient } = window.supabase;
        supabase = createClient(config.supabaseUrl, config.supabaseAnonKey, {
            auth: {
                persistSession: true,
                autoRefreshToken: true,
                detectSessionInUrl: true,
                storageKey: 'tayvu-auth-token',
                storage: window.localStorage
            }
        });
        
        // Set up auth state listener for real-time auth changes
        supabase.auth.onAuthStateChange((event, session) => {
            console.log('Auth state changed:', event);
            
            if (event === 'SIGNED_IN' || event === 'TOKEN_REFRESHED') {
                currentUser = session.user;
                updateAuthUI(true);
            } else if (event === 'SIGNED_OUT') {
                currentUser = null;
                updateAuthUI(false);
            } else if (event === 'USER_UPDATED') {
                currentUser = session.user;
                // Refresh any user-specific UI elements
                if (currentPage === 'profile') {
                    loadProfileData();
                }
            }
        });
        
        // Check for existing session
        const { data: { session }, error } = await supabase.auth.getSession();
        if (error) {
            console.error('Session check error:', error);
        } else if (session) {
            currentUser = session.user;
            updateAuthUI(true);
            console.log('Restored existing session for:', session.user.email);
        }
        
        console.log('App initialized successfully');
        
    } catch (error) {
        console.error('Failed to initialize app:', error);
        showNotification('Failed to load application. Please refresh the page.', 'error');
        
        // Show a retry button if initialization fails
        const retryButton = document.createElement('button');
        retryButton.textContent = 'Retry';
        retryButton.onclick = () => location.reload();
        retryButton.style.cssText = 'position: fixed; top: 80px; right: 20px; z-index: 9999;';
        document.body.appendChild(retryButton);
    }
}

// Call initialization when page loads with proper error handling
window.addEventListener('load', () => {
    initializeApp().catch(error => {
        console.error('Critical initialization error:', error);
    });
});







// Call initialization when page loads
window.addEventListener('load', () => {
    initializeApp();
});



      
        // State management
        let currentUser = null;
        let currentPage = 'home';

        // Check authentication on load
        window.addEventListener('load', async () => {
            const { data: { user } } = await supabase.auth.getUser();
            if (user) {
                currentUser = user;
                updateAuthUI(true);
            }
        });

        // Navigation scroll effect
        window.addEventListener('scroll', () => {
            const nav = document.querySelector('nav');
            if (window.scrollY > 50) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        });


        // Navigation functions
    function showPage(page) {
    // Add protection for profile page
    if (page === 'profile' && !currentUser) {
        showNotification('Please sign in to view your profile');
        openModal('signin');
        return;
    }
    
    // Hide all pages
    document.querySelectorAll('.page-section').forEach(section => {
        section.classList.remove('active');
    });
    
    // Show selected page
    const pageElement = document.getElementById(page);
    if (pageElement) {
        pageElement.classList.add('active');
    }
    
    currentPage = page;
    
    // Update URL without reload
    history.pushState(null, '', `#${page}`);
    
    // Scroll to top
    window.scrollTo(0, 0);
    
    // Load profile data when showing profile page
    if (page === 'profile' && currentUser) {
        loadProfileData();
    }
}







        // FAQ toggle function
        function toggleFaq(button) {
            const faqItem = button.closest('.faq-item');
            const wasActive = faqItem.classList.contains('active');
            
            // Close all other FAQs in the same category
            const category = button.closest('.faq-category');
            category.querySelectorAll('.faq-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Toggle the clicked FAQ
            if (!wasActive) {
                faqItem.classList.add('active');
            }
        }

        function scrollToExample() {
            document.getElementById('example').scrollIntoView({ behavior: 'smooth' });
        }

       

        // Memorial page functions
       

        function shareMemorial() {
            if (navigator.share) {
                navigator.share({
                    title: 'Margaret Rose Thompson Memorial',
                    text: 'Visit the memorial page for Margaret Rose Thompson',
                    url: window.location.href
                });
            } else {
                // Copy link to clipboard
                navigator.clipboard.writeText(window.location.href);
                showNotification('Memorial link copied to clipboard!');
            }
        }

        function openMomentModal(card) {
            const img = card.querySelector('img');
            const caption = card.querySelector('.moment-caption').textContent;
            
            // Create modal for viewing moments
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.style.display = 'block';
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 800px;">
                    <div class="modal-header">
                        <h2>Moment</h2>
                        <button class="close-modal" onclick="this.closest('.modal').remove();">&times;</button>
                    </div>
                    <img src="${img.src}" style="width: 100%; border-radius: 10px; margin-bottom: 1rem;">
                    <p style="text-align: center; color: var(--text-secondary);">${caption}</p>
                </div>
            `;
            document.body.appendChild(modal);
            document.body.style.overflow = 'hidden';
            
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                    document.body.style.overflow = 'auto';
                }
            });
        }

        function openGuestbookModal() {
            if (!currentUser) {
                showNotification('Please sign in to leave a message');
                openModal('signin');
                return;
            }
            
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.style.display = 'block';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Leave a Message</h2>
                        <button class="close-modal" onclick="this.closest('.modal').remove(); document.body.style.overflow = 'auto';">&times;</button>
                    </div>
                    <form onsubmit="submitGuestbookEntry(event)">
                        <div class="form-group">
                            <label for="guestbookMessage">Your Message</label>
                            <textarea id="guestbookMessage" name="message" rows="6" required placeholder="Share your memories and condolences..."></textarea>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn-secondary" onclick="this.closest('.modal').remove(); document.body.style.overflow = 'auto';">Cancel</button>
                            <button type="submit" class="btn-primary">Post Message</button>
                        </div>
                    </form>
                </div>
            `;
            document.body.appendChild(modal);
            document.body.style.overflow = 'hidden';
        }

        function submitGuestbookEntry(event) {
            event.preventDefault();
            const message = document.getElementById('guestbookMessage').value;
            
            // In a real app, this would save to the database
            showNotification('Your message has been posted');
            event.target.closest('.modal').remove();
            document.body.style.overflow = 'auto';
            
            // Add the new entry to the guestbook (in real app, this would come from database)
            const guestbookEntries = document.querySelector('.guestbook-entries');
            const newEntry = document.createElement('div');
            newEntry.className = 'guestbook-entry';
            newEntry.innerHTML = `
                <div class="entry-header">
                    <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=50&h=50&fit=crop" alt="You">
                    <div class="entry-info">
                        <h4>You</h4>
                        <p class="entry-date">Just now</p>
                    </div>
                </div>
                <p class="entry-message">${message}</p>
                <div class="entry-actions">
                    <button class="action-btn"><i class="fas fa-heart"></i> 0</button>
                </div>
            `;
            guestbookEntries.insertBefore(newEntry, guestbookEntries.firstChild);
        }

        // Mobile menu
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('active');
        }

        // Modal functions
        function openModal(type) {
            document.getElementById(`${type}Modal`).style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeModal(type) {
            document.getElementById(`${type}Modal`).style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function showSignIn() {
            closeModal('signup');
            openModal('signin');
        }

        function showSignUp() {
            closeModal('signin');
            openModal('signup');
        }






        // Authentication functions
   async function handleSignIn(event) {
    event.preventDefault();
    
    // Check if Supabase is initialized
    if (!supabase) {
        showNotification('Application not initialized. Please refresh the page.', 'error');
        return;
    }
    
    // Get form elements
    const submitButton = event.target.querySelector('button[type="submit"]');
    const emailInput = document.getElementById('email');
    const passwordInput = document.getElementById('password');
    
    // Disable form during submission
    const originalText = submitButton.textContent;
    submitButton.disabled = true;
    submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Signing in...';
    emailInput.disabled = true;
    passwordInput.disabled = true;
    
    // Clear any previous errors
    document.getElementById('emailError').style.display = 'none';
    document.getElementById('passwordError').style.display = 'none';
    
    try {
        const email = emailInput.value.trim();
        const password = passwordInput.value;
        
        // Basic validation
        if (!email || !password) {
            throw new Error('Please enter both email and password');
        }
        
        // Sign in with Supabase directly
        const { data, error } = await supabase.auth.signInWithPassword({
            email,
            password
        });
        
        if (error) throw error;
        
        // Success! The onAuthStateChange listener will handle the UI update
        console.log('Sign in successful:', data.user.email);
        closeModal('signin');
        showNotification('Successfully signed in!');
        
        // Reset form
        event.target.reset();
        
        // Redirect to profile if that was the intended destination
        if (window.pendingRedirect === 'profile') {
            window.pendingRedirect = null;
            showPage('profile');
        }
        
    } catch (error) {
        console.error('Sign-in error:', error);
        
        // User-friendly error messages
        let errorMessage = 'Sign in failed. Please try again.';
        let errorField = 'emailError';
        
        if (error.message.includes('Invalid login credentials')) {
            errorMessage = 'Invalid email or password';
        } else if (error.message.includes('Email not confirmed')) {
            errorMessage = 'Please verify your email before signing in';
        } else if (error.message.includes('Invalid email')) {
            errorMessage = 'Please enter a valid email address';
        } else if (error.message.includes('password')) {
            errorMessage = 'Password is incorrect';
            errorField = 'passwordError';
        } else if (error.message) {
            errorMessage = error.message;
        }
        
        showError(errorField, errorMessage);
        
    } finally {
        // Re-enable form
        submitButton.disabled = false;
        submitButton.textContent = originalText;
        emailInput.disabled = false;
        passwordInput.disabled = false;
    }
}



async function handleSignUp(event) {
    event.preventDefault();
    
    // Check if Supabase is initialized
    if (!supabase) {
        showNotification('Application not initialized. Please refresh the page.', 'error');
        return;
    }
    
    // Get form elements
    const submitButton = event.target.querySelector('button[type="submit"]');
    const nameInput = document.getElementById('signupName');
    const emailInput = document.getElementById('signupEmail');
    const passwordInput = document.getElementById('signupPassword');
    
    // Disable form during submission
    const originalText = submitButton.textContent;
    submitButton.disabled = true;
    submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating account...';
    nameInput.disabled = true;
    emailInput.disabled = true;
    passwordInput.disabled = true;
    
    try {
        const name = nameInput.value.trim();
        const email = emailInput.value.trim();
        const password = passwordInput.value;
        
        // Validation
        if (!name || !email || !password) {
            throw new Error('Please fill in all fields');
        }
        
        if (password.length < 6) {
            throw new Error('Password must be at least 6 characters');
        }
        
        // Email validation regex
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            throw new Error('Please enter a valid email address');
        }
        
        // Sign up with Supabase directly
        const { data, error } = await supabase.auth.signUp({
            email,
            password,
            options: {
                data: {
                    name: name,
                    created_at: new Date().toISOString()
                },
                emailRedirectTo: `${window.location.origin}/#signin`
            }
        });
        
        if (error) throw error;
        
        // Check if email confirmation is required
        if (data.user && !data.session) {
            showNotification(
                'Account created! Please check your email to verify your account before signing in.',
                'success'
            );
        } else if (data.session) {
            // Auto-signed in (if email confirmation is disabled)
            showNotification('Account created successfully!', 'success');
        }
        
        // Reset form and close modal
        event.target.reset();
        closeModal('signup');
        
        // Show sign in modal after a short delay
        setTimeout(() => {
            openModal('signin');
        }, 500);
        
    } catch (error) {
        console.error('Sign-up error:', error);
        
        // User-friendly error messages
        let errorMessage = 'Sign up failed. Please try again.';
        
        if (error.message.includes('already registered')) {
            errorMessage = 'This email is already registered. Please sign in.';
        } else if (error.message.includes('valid email')) {
            errorMessage = 'Please enter a valid email address';
        } else if (error.message.includes('password')) {
            errorMessage = error.message;
        } else if (error.message) {
            errorMessage = error.message;
        }
        
        showNotification(errorMessage, 'error');
        
    } finally {
        // Re-enable form
        submitButton.disabled = false;
        submitButton.textContent = originalText;
        nameInput.disabled = false;
        emailInput.disabled = false;
        passwordInput.disabled = false;
    }
}





async function handleSignOut() {
    if (!supabase) {
        showNotification('Application not initialized', 'error');
        return;
    }
    
    try {
        // Show loading state
        showNotification('Signing out...', 'info');
        
        const { error } = await supabase.auth.signOut();
        if (error) throw error;
        
        // Clear any cached data
        sessionStorage.removeItem('supabase_config');
        localStorage.removeItem('tayvu-auth-token');
        
        // The onAuthStateChange listener will handle updating the UI
        currentUser = null;
        updateAuthUI(false);
        
        // Redirect to home page
        showPage('home');
        
        showNotification('Successfully signed out');
        
    } catch (error) {
        console.error('Sign out error:', error);
        showNotification('Error signing out. Please try again.', 'error');
    }
}





   






// Profile page functions
function goToProfile() {
    if (!currentUser) {
        openModal('signin');
        return;
    }
    showPage('profile');
    loadProfileData();
}

async function loadProfileData() {
    if (!currentUser) return;
    
    // Load user data
    document.getElementById('profileName').textContent = currentUser.user_metadata?.name || 'User';
    document.getElementById('profileEmail').textContent = currentUser.email;
    
    // Populate settings form
    document.getElementById('settingsName').value = currentUser.user_metadata?.name || '';
    document.getElementById('settingsEmail').value = currentUser.email;
    
    
    // Load statistics (mock data for demo)
    document.getElementById('memorialsCount').textContent = '3';
    document.getElementById('contributionsCount').textContent = '12';
document.getElementById('visitorsCount').textContent = '256';
    
    // Load memorials (mock data for demo)
    loadMyMemorials();
    
    // Load contributions (mock data for demo)
    loadMyContributions();
}

function switchProfileTab(tab) {
    // Update tab buttons
    document.querySelectorAll('.profile-tab').forEach(t => t.classList.remove('active'));
    event.target.closest('.profile-tab').classList.add('active');
    
    // Update tab content
    document.querySelectorAll('.profile-tab-content').forEach(c => c.classList.remove('active'));
    document.getElementById(`${tab}Tab`).classList.add('active');
}

function loadMyMemorials() {
    // Mock data for demonstration
    const memorials = [
        {
            id: 1,
            name: 'Margaret Rose Thompson',
            dates: '1945 - 2023',
            photo: 'https://images.unsplash.com/photo-1566616213894-2d4e1baee5d8?w=400&h=300&fit=crop',
            photos: 147,
            tributes: 89,
         
        },
        {
            id: 2,
            name: 'Robert James Wilson',
            dates: '1938 - 2022',
            photo: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=300&fit=crop',
            photos: 92,
            tributes: 56,
        
        }
    ];
    
    const container = document.getElementById('myMemorials');
    
    if (memorials.length === 0) {
        container.innerHTML = `
            <div class="empty-state">
                <i class="fas fa-monument"></i>
                <h3>No memorials yet</h3>
                <p>Create your first memorial to honor a loved one</p>
                <button class="btn-primary" onclick="openModal('createMemorial')">
                    <i class="fas fa-plus"></i>
                    Create Memorial
                </button>
            </div>
        `;
    } else {
  container.innerHTML = memorials.map(memorial => `
    <div class="memorial-card" onclick="viewMemorial(${memorial.id})">
        <div class="memorial-card-image">
            <img src="${memorial.photo}" alt="${memorial.name}">
        </div>
        <div class="memorial-card-content">
            <h3 class="memorial-card-name">${memorial.name}</h3>
            <p class="memorial-card-dates">${memorial.dates}</p>
            <div class="memorial-card-stats">
                <span class="memorial-card-stat">
                    <i class="fas fa-images"></i>
                    <span>${memorial.photos}</span>  <!-- MAKE SURE it's <span> not just text -->
                </span>
                <span class="memorial-card-stat">
                    <i class="fas fa-comment"></i>
                    <span>${memorial.tributes}</span>  <!-- MAKE SURE it's <span> not just text -->
                </span>
            </div>
        </div>
    </div>
`).join('');
    }
}

function loadMyContributions() {
    // Mock data for demonstration
    const contributions = [
        {
            memorialName: 'Elizabeth Grace Williams',
            memorialPhoto: 'https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150&h=150&fit=crop',
            type: 'message',
            message: 'Your kindness and wisdom will always be remembered. Thank you for being such an inspiration.',
            date: '2 days ago'
        },
        {
            memorialName: 'Sarah Louise Davis',
            memorialPhoto: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop',
            type: 'photo',
            message: 'Added 3 photos to the memorial',
            date: '2 weeks ago'
        }
    ];
    
    const container = document.getElementById('myContributions');
    
    if (contributions.length === 0) {
        container.innerHTML = `
            <div class="empty-state">
                <i class="fas fa-heart"></i>
                <h3>No contributions yet</h3>
                <p>Visit memorials to leave messages and light candles</p>
            </div>
        `;
    } else {
        container.innerHTML = contributions.map(contrib => `
            <div class="contribution-item">
                <img src="${contrib.memorialPhoto}" alt="${contrib.memorialName}" class="contribution-memorial-photo">
                <div class="contribution-content">
                    <h4 class="contribution-memorial-name">${contrib.memorialName}</h4>
                    <span class="contribution-type">
                        <i class="fas fa-${contrib.type === 'message' ? 'comment' : contrib.type === 'candle' ? 'candle' : 'images'}"></i>
                        ${contrib.type === 'message' ? 'Left a message' : contrib.type === 'candle' ? 'Lit a candle' : 'Added photos'}
                    </span>
                    <p class="contribution-message">${contrib.message}</p>
                    <p class="contribution-date">${contrib.date}</p>
                </div>
            </div>
        `).join('');
    }
}

async function updateProfile(event) {
    event.preventDefault();
    
    const name = document.getElementById('settingsName').value;
    
    try {
        const { data, error } = await supabase.auth.updateUser({
            data: { name }
        });
        
        if (error) throw error;
        
        // Update displayed name
        document.getElementById('profileName').textContent = name;
        currentUser.user_metadata.name = name;
        
        showNotification('Profile updated successfully!');
    } catch (error) {
        showNotification('Error updating profile', 'error');
    }
}







function uploadProfilePhoto() {
    // Create a file input
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = 'image/*';
    
    input.onchange = async (e) => {
        const file = e.target.files[0];
        if (!file) return;
        
        // For demo, just show the selected image
        const reader = new FileReader();
        reader.onload = (e) => {
            document.getElementById('profilePhotoLarge').src = e.target.result;
            
            // Also update the nav profile photo - ADD THESE 3 LINES
            document.getElementById('navProfilePhoto').src = e.target.result;
            document.getElementById('navProfilePhoto').style.display = 'block';
            document.getElementById('navProfileInitial').style.display = 'none';
            
            showNotification('Profile photo updated!');
        };
        reader.readAsDataURL(file);
        
        // In a real app, you would upload to Supabase storage here
    };
    
    input.click();
}

function confirmDeleteAccount() {
    if (confirm('Are you sure you want to delete your account? This action cannot be undone.')) {
        // Handle account deletion
        showNotification('Account deletion is not available in demo mode', 'error');
    }
}

function viewMemorial(id) {
    // Navigate to memorial page
    showPage('exampleMemorial');
}



// Create Memorial Functions
function validateDates() {
    const birthDateInput = document.getElementById('birthDate');
    const deathDateInput = document.getElementById('deathDate');
    const birthDateError = document.getElementById('birthDateError');
    const deathDateError = document.getElementById('deathDateError');
    
    // Get today's date in YYYY-MM-DD format
    const today = new Date();
    const todayString = today.toISOString().split('T')[0];
    
    // Set min and max attributes
    const minDate = '1850-01-01';
    birthDateInput.setAttribute('min', minDate);
    birthDateInput.setAttribute('max', todayString);
    deathDateInput.setAttribute('min', minDate);
    deathDateInput.setAttribute('max', todayString);
    
    // Reset error messages
    birthDateError.style.display = 'none';
    deathDateError.style.display = 'none';
    birthDateError.textContent = '';
    deathDateError.textContent = '';
    
    if (birthDateInput.value && deathDateInput.value) {
        const birthDate = new Date(birthDateInput.value);
        const deathDate = new Date(deathDateInput.value);
        const minDateObj = new Date(minDate);
        
        // Validate birth date
        if (birthDate < minDateObj) {
            birthDateError.textContent = 'Date of birth cannot be before 1850';
            birthDateError.style.display = 'block';
            birthDateInput.setCustomValidity('Invalid date');
            return false;
        } else if (birthDate > today) {
            birthDateError.textContent = 'Date of birth cannot be in the future';
            birthDateError.style.display = 'block';
            birthDateInput.setCustomValidity('Invalid date');
            return false;
        } else {
            birthDateInput.setCustomValidity('');
        }
        
        // Validate death date
        if (deathDate < minDateObj) {
            deathDateError.textContent = 'Date of passing cannot be before 1850';
            deathDateError.style.display = 'block';
            deathDateInput.setCustomValidity('Invalid date');
            return false;
        } else if (deathDate > today) {
            deathDateError.textContent = 'Date of passing cannot be in the future';
            deathDateError.style.display = 'block';
            deathDateInput.setCustomValidity('Invalid date');
            return false;
        } else if (deathDate <= birthDate) {
            deathDateError.textContent = 'Date of passing must be after date of birth';
            deathDateError.style.display = 'block';
            deathDateInput.setCustomValidity('Invalid date');
            return false;
        } else {
            deathDateInput.setCustomValidity('');
            
            // Calculate age for additional validation
            const ageAtDeath = (deathDate - birthDate) / (365.25 * 24 * 60 * 60 * 1000);
            if (ageAtDeath > 150) {
                deathDateError.textContent = 'Please verify the dates (age exceeds 150 years)';
                deathDateError.style.display = 'block';
                return false;
            }
        }
    }
    
    return true;
}















let currentStep = 1;
const totalSteps = 5;
let memorialData = {
    basic: {},
    story: {},
    services: [],
    moments: [],
    settings: {}
};


function goToCreateMemorial() {
    if (!currentUser) {
        openModal('signin');
        return;
    }
    showPage('createMemorial');
    currentStep = 1;
    
    // Reset all form steps
    document.querySelectorAll('.form-step').forEach(step => {
        step.classList.remove('active');
    });
    
    // Show step 1
    document.getElementById('step1').classList.add('active');
    
    updateProgress();
    
    // Initialize date validation with proper min/max dates
    setTimeout(() => {
        const today = new Date().toISOString().split('T')[0];
        const minDate = '1850-01-01';
        
        const birthDateInput = document.getElementById('birthDate');
        const deathDateInput = document.getElementById('deathDate');
        
        if (birthDateInput) {
            birthDateInput.setAttribute('min', minDate);
            birthDateInput.setAttribute('max', today);
        }
        
        if (deathDateInput) {
            deathDateInput.setAttribute('min', minDate);
            deathDateInput.setAttribute('max', today);
        }
    }, 100);
}




function updateProgress() {
    // Update progress bar
    const progressFill = document.getElementById('progressFill');
    progressFill.style.width = `${(currentStep / totalSteps) * 100}%`;
    
    // Update step indicators
    document.querySelectorAll('.progress-step').forEach((step, index) => {
        step.classList.remove('active', 'completed');
        
        if (index < currentStep - 1) {
            step.classList.add('completed');
        } else if (index === currentStep - 1) {
            step.classList.add('active');
        }
    });
    
    // Hide all form steps
    document.querySelectorAll('.form-step').forEach(step => {
        step.classList.remove('active');
        step.style.display = 'none'; 
        step.style.visibility = 'hidden';  
    });
    
    // Show current step
    const currentStepElement = document.getElementById(`step${currentStep}`);
    if (currentStepElement) {
        currentStepElement.classList.add('active');
         currentStepElement.style.display = 'block'; 
        currentStepElement.style.visibility = 'visible'; 
    }
    
    // Scroll to top of form
    window.scrollTo(0, 80); // Account for fixed nav
    
    // Adjust spacing for non-first steps
    const memorialPage = document.querySelector('.create-memorial-page');
    if (memorialPage) {
        if (currentStep === 1) {
            memorialPage.classList.remove('compact-layout');
        } else {
            memorialPage.classList.add('compact-layout');
        }
    }
}



















function nextStep() {
    if (validateCurrentStep()) {
        saveStepData();
        if (currentStep < totalSteps) {
            // Store the data before moving to next step
            console.log(`Completing step ${currentStep}`);
            
            currentStep++;
            updateProgress();
            
            // Ensure the previous step is completely hidden
            if (currentStep > 1) {
                const previousStep = document.getElementById(`step${currentStep - 1}`);
                if (previousStep) {
                    previousStep.classList.remove('active');
                }
            }
            
            if (currentStep === 5) {
                generatePreview();
            }
        }
    }
}






function previousStep() {
    if (currentStep > 1) {
        // Ensure current step is hidden
        const currentStepElement = document.getElementById(`step${currentStep}`);
        if (currentStepElement) {
            currentStepElement.classList.remove('active');
        }
        
        currentStep--;
        updateProgress();
    }
}









function skipStep() {
    if (currentStep < totalSteps) {
        currentStep++;
        updateProgress();
    }
}




function validateCurrentStep() {
    // Add validation for required fields
    switch(currentStep) {
        case 1:
    const firstName = document.getElementById('firstName').value;
    const lastName = document.getElementById('lastName').value;
    const birthDate = document.getElementById('birthDate').value;
    const deathDate = document.getElementById('deathDate').value;
    const headline = document.getElementById('headline').value;
    const openingStatement = document.getElementById('openingStatement').value;
    
    // Check if all required fields are filled
    if (!firstName || !lastName || !birthDate || !deathDate || !headline || !openingStatement) {
        showNotification('Please fill in all required fields', 'error');
        return false;
    }
    
    // Validate dates using the validateDates function
    if (!validateDates()) {
        return false;
    }
    
    // Additional date validations
    const birthDateObj = new Date(birthDate);
    const deathDateObj = new Date(deathDate);
    const minDateObj = new Date('1850-01-01');
    
    // Check if dates are before 1850
    if (birthDateObj < minDateObj) {
        showNotification('Date of birth cannot be before 1850', 'error');
        document.getElementById('birthDate').focus();
        return false;
    }
    
    if (deathDateObj < minDateObj) {
        showNotification('Date of passing cannot be before 1850', 'error');
        document.getElementById('deathDate').focus();
        return false;
    }
    
  return true;
    
        case 2:
            // Validate obituary details
            const lifeStory = document.getElementById('lifeStory').innerHTML;
            const lifeStoryText = document.getElementById('lifeStory').textContent.trim();
            
            if (!lifeStoryText || lifeStoryText.length < 10) {
                showNotification('Please write the obituary details', 'error');
                return false;
            }
            
            return true;
            
        case 3:
            // Service information is optional, so always return true
            return true;
            
                    
        case 4:
            // Moments are optional, so always return true
            return true;
            
        case 5:
            // Preview step, no validation needed
            return true;
            
        default:
            return true;
    }
}














function saveStepData() {
    switch(currentStep) {
        case 1:
            memorialData.basic = {
                firstName: document.getElementById('firstName').value,
                middleName: document.getElementById('middleName').value,
                lastName: document.getElementById('lastName').value,
                birthDate: document.getElementById('birthDate').value,
                deathDate: document.getElementById('deathDate').value,
                headline: document.getElementById('headline').value,
                openingStatement: document.getElementById('openingStatement').value,
                profilePhoto: document.getElementById('profilePhotoPreview').src,
                backgroundPhoto: document.getElementById('backgroundPhotoPreview').src
            };
            break;
        case 2:
            memorialData.story = {
                lifeStory: document.getElementById('lifeStory').innerHTML
            };
            break;
        case 3:
            // Save service information
            memorialData.services = [];
            document.querySelectorAll('.service-item-form').forEach(form => {
                const serviceData = {
                    type: form.querySelector('[name="serviceType"]').value,
                    date: form.querySelector('[name="serviceDate"]').value,
                    time: form.querySelector('[name="serviceTime"]').value,
                    locationName: form.querySelector('[name="locationName"]').value,
                    locationAddress: form.querySelector('[name="locationAddress"]').value
                };
                if (serviceData.type) {
                    memorialData.services.push(serviceData);
                }
            });
            memorialData.serviceNote = document.getElementById('serviceNote')?.value || '';
            break;
        case 4:
            // Save moments
            memorialData.moments = moments;
            break;
        case 5:
            // Save privacy settings
            memorialData.settings = {
                privacy: document.querySelector('input[name="privacy"]:checked').value
            };
            break;
    }
}


























function uploadImage(type) {
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = 'image/*';
    
    input.onchange = (e) => {
        const file = e.target.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = (e) => {
            if (type === 'profile') {
                document.getElementById('profilePhotoPreview').src = e.target.result;
                document.getElementById('profilePhotoPreview').style.display = 'block';
                document.querySelector('#profilePhotoUpload .upload-placeholder').style.display = 'none';
            } else if (type === 'background') {
                document.getElementById('backgroundPhotoPreview').src = e.target.result;
                document.getElementById('backgroundPhotoPreview').style.display = 'block';
                document.querySelector('#backgroundPhotoUpload .upload-placeholder').style.display = 'none';
            }
        };
        reader.readAsDataURL(file);
    };
    
    input.click();
}



function selectDefaultBackground(imageUrl) {
    // Update the preview
    document.getElementById('backgroundPhotoPreview').src = imageUrl;
    document.getElementById('backgroundPhotoPreview').style.display = 'block';
    document.querySelector('#backgroundPhotoUpload .upload-placeholder').style.display = 'none';
    
    // Remove selected class from all options
    document.querySelectorAll('.default-bg-option').forEach(option => {
        option.classList.remove('selected');
    });
    
    // Add selected class to clicked option
    event.currentTarget.classList.add('selected');
    
    // Show notification
    showNotification('Background image selected!');
}











function formatText(command) {
    document.execCommand(command, false, null);
}

function addParagraph() {
    const editor = document.getElementById('lifeStory');
    editor.focus();
    document.execCommand('insertParagraph', false, null);
}

function addServiceItem() {
    const serviceHtml = `
        <div class="service-item-form">
            <h3>Service ${document.querySelectorAll('.service-item-form').length + 1}</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label>Service Type</label>
                    <select name="serviceType">
                        <option value="">Select type...</option>
                        <option value="viewing">Viewing & Visitation</option>
                        <option value="funeral">Funeral Service</option>
                        <option value="memorial">Memorial Service</option>
                        <option value="celebration">Celebration of Life</option>
                        <option value="reception">Reception</option>
                        <option value="burial">Burial</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Date</label>
                    <input type="date" name="serviceDate">
                </div>
                <div class="form-group">
                    <label>Time</label>
                    <input type="time" name="serviceTime">
                </div>
                <div class="form-group">
                    <label>Location Name</label>
                    <input type="text" name="locationName" placeholder="e.g., St. Mary's Church">
                </div>
                <div class="form-group full-width">
                    <label>Address</label>
                    <input type="text" name="locationAddress" placeholder="Full address">
                </div>
            </div>
        </div>
    `;
    document.getElementById('serviceItems').insertAdjacentHTML('beforeend', serviceHtml);
}




// Drag and drop for moments
function handleDragOver(e) {
    e.preventDefault();
    e.currentTarget.classList.add('drag-over');
}

function handleDragLeave(e) {
    e.currentTarget.classList.remove('drag-over');
}

function handleDrop(e) {
    e.preventDefault();
    e.currentTarget.classList.remove('drag-over');
    
    const files = Array.from(e.dataTransfer.files);
    files.forEach(file => {
        if (file.type.startsWith('image/') || file.type.startsWith('video/')) {
            addMoment(file);
        }
    });
}


// Moments management
let moments = [];
let momentsViewMode = 'grid';

function selectMoments() {
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = 'image/*,video/*';
    input.multiple = true;
    
    input.onchange = (e) => {
        const files = Array.from(e.target.files);
        files.forEach(file => addMoment(file));
    };
    
    input.click();
}

function addMoment(file) {
    if (!file.type.startsWith('image/') && !file.type.startsWith('video/')) {
        showNotification('Please upload only images or videos', 'error');
        return;
    }
    
    if (file.size > 50 * 1024 * 1024) { // 50MB limit
        showNotification('File size must be less than 50MB', 'error');
        return;
    }
    
    const reader = new FileReader();
    reader.onload = (e) => {
        const momentId = Date.now() + Math.random();
        const isVideo = file.type.startsWith('video/');
        
        const moment = {
            id: momentId,
            type: isVideo ? 'video' : 'photo',
            url: e.target.result,
            caption: '',
            date: new Date().toISOString().split('T')[0],
            fileName: file.name
        };
        
        moments.push(moment);
        updateMomentsDisplay();
        updateMomentsCount();
        
        showNotification(`${isVideo ? 'Video' : 'Photo'} added successfully!`);
    };
    reader.readAsDataURL(file);
}

function updateMomentsDisplay() {
    const grid = document.getElementById('momentsPreviewGrid');
    const emptyState = document.getElementById('momentsEmptyState');
    
    if (moments.length === 0) {
        emptyState.style.display = 'block';
        grid.innerHTML = '<div class="moments-empty-state" id="momentsEmptyState">' + emptyState.innerHTML + '</div>';
        return;
    }
    
    grid.innerHTML = moments.map((moment, index) => `
        <div class="moment-preview-item ${momentsViewMode === 'list' ? 'list-view' : ''}" 
             data-id="${moment.id}"
             draggable="true"
             ondragstart="handleMomentDragStart(event, ${index})"
             ondragover="handleMomentDragOver(event)"
             ondrop="handleMomentDrop(event, ${index})"
             ondragend="handleMomentDragEnd(event)">
            
            <div class="moment-preview-image">
                ${moment.type === 'video' ? 
                    `<video src="${moment.url}" muted></video>
                     <div class="video-indicator-overlay">
                         <i class="fas fa-play"></i>
                     </div>` : 
                    `<img src="${moment.url}" alt="${moment.caption || 'Moment'}">`
                }
            </div>
            
            <div class="moment-actions">
                <button class="moment-action-btn moment-edit-btn" 
                        onclick="editMomentCaption(${index})" 
                        title="Edit caption">
                    <i class="fas fa-pen"></i>
                </button>
                <button class="moment-action-btn moment-remove-btn" 
                        onclick="removeMoment(${index})" 
                        title="Remove">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="moment-caption">
                <input type="text" 
                       class="caption-input" 
                       placeholder="Add a caption (optional)" 
                       value="${moment.caption}"
                       onchange="updateMomentCaption(${index}, this.value)">
                ${momentsViewMode === 'grid' ? `<div class="moment-date">${formatDate(moment.date)}</div>` : ''}
            </div>
        </div>
    `).join('');
}

function updateMomentsCount() {
    const photos = moments.filter(m => m.type === 'photo').length;
    const videos = moments.filter(m => m.type === 'video').length;
    
    document.getElementById('photoCount').textContent = photos;
    document.getElementById('videoCount').textContent = videos;
}

function changeGridView(view) {
    momentsViewMode = view;
    
    // Update button states
    document.querySelectorAll('.view-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    event.target.closest('.view-btn').classList.add('active');
    
    // Update grid class
    const grid = document.getElementById('momentsPreviewGrid');
    if (view === 'list') {
        grid.classList.add('list-view');
    } else {
        grid.classList.remove('list-view');
    }
    
    updateMomentsDisplay();
}

function updateMomentCaption(index, caption) {
    moments[index].caption = caption;
}

function editMomentCaption(index) {
    const captionInput = event.target.closest('.moment-preview-item').querySelector('.caption-input');
    captionInput.focus();
    captionInput.select();
}

function removeMoment(index) {
    if (confirm('Are you sure you want to remove this moment?')) {
        moments.splice(index, 1);
        updateMomentsDisplay();
        updateMomentsCount();
        showNotification('Moment removed');
    }
}

// Drag and drop for reordering
let draggedMomentIndex = null;

function handleMomentDragStart(e, index) {
    draggedMomentIndex = index;
    e.target.classList.add('dragging');
}

function handleMomentDragOver(e) {
    e.preventDefault();
    e.currentTarget.classList.add('drag-over');
}

function handleMomentDrop(e, dropIndex) {
    e.preventDefault();
    e.currentTarget.classList.remove('drag-over');
    
    if (draggedMomentIndex !== null && draggedMomentIndex !== dropIndex) {
        // Reorder moments array
        const draggedMoment = moments[draggedMomentIndex];
        moments.splice(draggedMomentIndex, 1);
        
        if (draggedMomentIndex < dropIndex) {
            moments.splice(dropIndex - 1, 0, draggedMoment);
        } else {
            moments.splice(dropIndex, 0, draggedMoment);
        }
        
        updateMomentsDisplay();
        showNotification('Moments reordered');
    }
}

function handleMomentDragEnd(e) {
    e.target.classList.remove('dragging');
    document.querySelectorAll('.moment-preview-item').forEach(item => {
        item.classList.remove('drag-over');
    });
    draggedMomentIndex = null;
}

function formatDate(dateString) {
    const date = new Date(dateString);
    return date.toLocaleDateString('en-US', { 
        month: 'short', 
        day: 'numeric', 
        year: 'numeric' 
    });
}
























function generatePreview() {
    // In a real app, this would generate a preview of the memorial
    showNotification('Generating preview...');
}

function previewDevice(device) {
    const frame = document.querySelector('.device-frame');
    switch(device) {
        case 'desktop':
            frame.style.maxWidth = '1200px';
            frame.style.height = '600px';
            break;
        case 'tablet':
            frame.style.maxWidth = '768px';
            frame.style.height = '1024px';
            break;
        case 'mobile':
            frame.style.maxWidth = '375px';
            frame.style.height = '667px';
            break;
    }
}

function saveDraft() {
    saveStepData();
    // In a real app, this would save to database
    showNotification('Draft saved successfully!');
}

function publishMemorial() {
    // Collect all data
    saveStepData();
    
    // In a real app, this would:
    // 1. Save to database
    // 2. Generate the memorial page
    // 3. Redirect to the published memorial
    
    showNotification('Memorial published successfully!');
    
    // For demo, redirect to profile
    setTimeout(() => {
        goToProfile();
    }, 2000);
}










     function updateAuthUI(isLoggedIn) {
    const signinBtn = document.querySelector('.btn-signin');
    const profileBtn = document.querySelector('.profile-btn');
    
    if (isLoggedIn) {
        signinBtn.style.display = 'none';
        profileBtn.style.display = 'flex';
        
        // Update profile button with user info
        if (currentUser) {
            const initial = (currentUser.user_metadata?.name || currentUser.email || 'U')[0].toUpperCase();
            document.getElementById('navProfileInitial').textContent = initial;
            
            // If user has a profile photo, show it
            if (currentUser.user_metadata?.avatar_url) {
                document.getElementById('navProfilePhoto').src = currentUser.user_metadata.avatar_url;
                document.getElementById('navProfilePhoto').style.display = 'block';
                document.getElementById('navProfileInitial').style.display = 'none';
            } else {
                document.getElementById('navProfilePhoto').style.display = 'none';
                document.getElementById('navProfileInitial').style.display = 'block';
            }
        }
    } else {
        signinBtn.style.display = 'inline-flex';
        profileBtn.style.display = 'none';
    }
}

   

      

        // Pricing functions
        function selectPlan(plan) {
            if (!currentUser) {
                showNotification('Please sign in to create a memorial');
                openModal('signin');
                return;
            }
            
            // In a real app, this would initiate the payment process
            showNotification(`Selected ${plan} plan - Payment integration coming soon!`);
        }

        // Utility functions
   function showError(fieldId, message) {
    const errorElement = document.getElementById(fieldId);
    if (!errorElement) {
        console.error(`Error element ${fieldId} not found`);
        showNotification(message, 'error');
        return;
    }
    
    errorElement.textContent = message;
    errorElement.style.display = 'block';
    
    // Also add error styling to the input
    const inputField = errorElement.previousElementSibling;
    if (inputField && inputField.tagName === 'INPUT') {
        inputField.style.borderColor = '#E53E3E';
    }
    
    // Auto-hide after 5 seconds
    setTimeout(() => {
        errorElement.style.display = 'none';
        if (inputField && inputField.tagName === 'INPUT') {
            inputField.style.borderColor = '';
        }
    }, 5000);
}








        function showNotification(message, type = 'success') {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                padding: 1rem 2rem;
                background: ${type === 'success' ? 'var(--primary-color)' : '#E53E3E'};
                color: white;
                border-radius: 10px;
                box-shadow: var(--shadow-lg);
                z-index: 3000;
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Handle back/forward navigation
        window.addEventListener('popstate', () => {
            const page = location.hash.slice(1) || 'home';
           if (['home', 'about', 'pricing', 'faq', 'profile', 'createMemorial', 'exampleMemorial'].includes(page)) {
                showPage(page);
            }
        });

        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        // Smooth scroll for all anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                if (this.getAttribute('href') === '#') return;
                
                const targetId = this.getAttribute('href').slice(1);
                const targetElement = document.getElementById(targetId);
                
                if (targetElement && !['home', 'about', 'pricing'].includes(targetId)) {
                    e.preventDefault();
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Add intersection observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe all animated elements
        document.querySelectorAll('.animate-fade-in').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
            observer.observe(el);
        });

        // Initialize page based on URL hash
        const initialPage = location.hash.slice(1) || 'home';
       if (['home', 'about', 'pricing', 'faq', 'profile', 'createMemorial', 'exampleMemorial'].includes(initialPage)) {
            showPage(initialPage);
        }

      

// Add these functions to your existing JavaScript

// Filter functionality for Cherished Moments

// VSCO-style moments functionality
function loadMoreMemories() {
    showNotification('Loading more memories...');
    // In real implementation, this would load more photos from database
}

// Click on moment to view
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.moment-vsco').forEach(moment => {
        moment.addEventListener('click', function() {
            viewMomentDetail(this);
        });
    });
});

function viewMomentDetail(momentElement) {
    const img = momentElement.querySelector('img');
    const date = momentElement.querySelector('.moment-date-vsco')?.textContent || '';
    const caption = momentElement.querySelector('.moment-caption-vsco')?.textContent || '';
    
    // Create modal for viewing moments
    const modal = document.createElement('div');
    modal.className = 'modal';
    modal.style.display = 'block';
    modal.innerHTML = `
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2>${caption}</h2>
                <button class="close-modal" onclick="this.closest('.modal').remove(); document.body.style.overflow = 'auto';">&times;</button>
            </div>
            <img src="${img.src}" style="width: 100%; border-radius: 10px; margin-bottom: 1rem;">
            <p style="text-align: center; color: var(--text-secondary);">${date}</p>
        </div>
    `;
    document.body.appendChild(modal);
    document.body.style.overflow = 'hidden';
    
    modal.addEventListener('click', function(e) {
        if (e.target === modal) {
            modal.remove();
            document.body.style.overflow = 'auto';
        }
    });
}








// Update the existing viewMoment function


// Add like functionality


// Add video play functionality


// Add upload functionality
function uploadMemory() {
    if (!currentUser) {
        showNotification('Please sign in to add memories');
        openModal('signin');
        return;
    }
    
    // Create upload modal
    const modal = document.createElement('div');
    modal.className = 'modal';
    modal.style.display = 'block';
    modal.innerHTML = `
        <div class="modal-content">
            <div class="modal-header">
                <h2>Share a Memory</h2>
                <button class="close-modal" onclick="this.closest('.modal').remove(); document.body.style.overflow = 'auto';">&times;</button>
            </div>
            <form onsubmit="submitMemory(event)">
                <div class="form-group">
                    <label>Upload Photo or Video</label>
                    <input type="file" accept="image/*,video/*" required>
                </div>
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" placeholder="Give this memory a title" required>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea rows="4" placeholder="Share the story behind this memory..." required></textarea>
                </div>
                <div class="form-group">
                    <label>Date (Optional)</label>
                    <input type="date">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="this.closest('.modal').remove(); document.body.style.overflow = 'auto';">Cancel</button>
                    <button type="submit" class="btn-primary">Share Memory</button>
                </div>
            </form>
        </div>
    `;
    document.body.appendChild(modal);
    document.body.style.overflow = 'hidden';
}

function submitMemory(event) {
    event.preventDefault();
    showNotification('Memory shared successfully! It will be reviewed before appearing.');
    event.target.closest('.modal').remove();
    document.body.style.overflow = 'auto';
}



// Call initialization when showing memorial page
// Add this to your existing showPage function
const originalShowPage = showPage;
showPage = function(page) {
    originalShowPage(page);
    if (page === 'exampleMemorial') {
        setTimeout(initializeMomentsFilters, 100);
    }
};




// Ensure proper initialization of create memorial form
document.addEventListener('DOMContentLoaded', function() {
    // Hide all form steps except the first one on page load
    const formSteps = document.querySelectorAll('.form-step');
    formSteps.forEach((step, index) => {
        if (index !== 0) {
            step.classList.remove('active');
        }
    });
});



















      
    </script>

   
</body>
</html>
        